import{s as H,y as v,e as mt,c as dt,A as W,i as Z,x as q,Y as gt,n as A,f as Y,C as ht,z as I,E as R,M as F}from"./scheduler.wvXfHD85.js";import{S as J,i as K,t as U,g as pt,a as L,e as bt,c as yt,b as wt,m as _t,d as St}from"./index.g90p2mwt.js";import{g as Q,a as Pt}from"./spread.rEx3vLA9.js";import{g as vt,t as xt}from"./getCldImageUrl.DuPXM9E8.js";var jt=/\/v\d+\//,Et=/\.(ai|avif|gif|png|webp|bmp|bw|djvu|dng|ps|ept|eps|eps3|fbx|flif|gif|glb|gltf|heif|heic|ico|indd|jpg|jpe|jpeg|jp2|wdp|jxr|hdp|obj|pdf|ply|png|psd|arw|cr2|svg|tga|tif|tiff|u3ma|usdz|webp|3g2|3gp|avi|flv|m3u8|ts|m2ts|mts|mov|mkv|mp4|mpeg|mpd|mxf|ogv|webm|wmv)$/i,Ut=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|images|video|videos|raw|files)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)?\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?\/?)*\/)*(?<version>v\d+|\w{1,2})\/(?<publicId>[^\s]+)$/,It=["images","videos","files"];function Rt(e){var t,n,s,r;if(typeof e!="string")throw new Error(`Failed to parse URL: Invalid src of type ${typeof e}`);if(!jt.test(e))throw new Error("Invalid src: Does not include version (Ex: /v1234/)");const[i,a]=e.split("?"),u=i.match(Et);let f=i,m;u!==null&&(m=`${u[0]}`,f=i.replace(new RegExp(`${m}$`),""));const d=f.match(Ut),p=(n=(t=d==null?void 0:d.groups)==null?void 0:t.transformations)==null?void 0:n.split("/").filter(c=>!!c),b={...d==null?void 0:d.groups,format:m,seoSuffix:void 0,transformations:p||[],queryParams:{},version:(s=d==null?void 0:d.groups)!=null&&s.version?parseInt(d.groups.version.replace("v","")):void 0};if(a&&(b.queryParams=a.split("&").reduce((c,h)=>{const[w,_]=h.split("=");return c[w]=_,c},{})),b.assetType&&It.includes(b.assetType)){const c=((r=b.publicId)==null?void 0:r.split("/"))||[];b.seoSuffix=c.pop(),b.publicId=c.join("/")}return b}function Lt(e){const{transformations:t=[]}=Rt(e)||{};return t.map(n=>n.split(","))}const Nt={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare"},Ot={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},kt={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},P=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},l=(e,t,n,s,r)=>{n?(r&&(n=P(n)),e.searchParams.set(t,n.toString())):s&&e.searchParams.delete(t)},y=(e,t,n)=>{e.searchParams.has(t)||e.searchParams.set(t,n.toString())},j=(e,t)=>{const n=Number(e.searchParams.get(t));return isNaN(n)?void 0:n},$=e=>{const{pathname:t,search:n}=e;return`${t}${n}`},O=e=>e.hostname==="n"?$(e):e.toString(),g=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,C=new Map(Object.entries(Nt)),Tt=Object.entries(Ot);function zt(e){return tt(e)||Wt(e)}function tt(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=g(e);if(C.has(t))return C.get(t);for(const[n,s]of Tt)if(t.endsWith(`.${n}`))return s;return!1}function Wt(e){const{pathname:t}=g(e);for(const[n,s]of Object.entries(kt))if(t.startsWith(n))return s;return!1}const qt=({url:e,width:t,height:n,format:s})=>{const r=g(e);return t&&t>4e3&&(n&&(n=Math.round(n*4e3/t)),t=4e3),n&&n>4e3&&(t&&(t=Math.round(t*4e3/n)),n=4e3),l(r,"w",t,!0,!0),l(r,"h",n,!0,!0),l(r,"fm",s),y(r,"fit","fill"),r},At=({url:e,width:t,height:n,format:s})=>{const r=g(e);return l(r,"width",t,!0,!0),l(r,"height",n,!0,!0),l(r,"format",s),t&&n&&(y(r,"fit","cover"),y(r,"sharp","true")),r},Ft=({url:e,width:t,height:n,format:s})=>{var o;const r=g(e);if(l(r,"w",t,!0,!0),l(r,"h",n,!0,!0),y(r,"fit","min"),s){r.searchParams.set("fm",s);const i=r.searchParams.get("auto");i==="format"?r.searchParams.delete("auto"):i!=null&&i.includes("format")&&r.searchParams.set("auto",i.split(",").filter(a=>a!=="format").join(","))}else r.searchParams.delete("fm"),(o=r.searchParams.get("auto"))!=null&&o.includes("format")||r.searchParams.append("auto","format");return r},Ct=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,Mt=e=>{const t=g(e),n=t.pathname.match(Ct);if(!n)throw new Error("Invalid Shopify URL");const[,s,r,o,i,a,u,f]=n;t.pathname=`${s}${u}`;const m=o||t.searchParams.get("width"),d=i||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(m)||void 0,height:Number(d)||void 0,format:f?f.slice(1):void 0,params:{crop:a,size:r},cdn:"shopify"}},Dt=({base:e,width:t,height:n,format:s,params:r})=>{const o=g(e);return l(o,"width",t,!0,!0),l(o,"height",n,!0,!0),l(o,"crop",r==null?void 0:r.crop),l(o,"format",s),o},Bt=({url:e,width:t,height:n})=>{const s=Mt(e);if(!s)return;const r={...s,width:t,height:n};return Dt(r)},Gt=({url:e,width:t,height:n})=>{const s=g(e);return l(s,"w",t,!0,!0),l(s,"h",n,!0,!0),y(s,"crop","1"),s},Vt=({url:e,width:t,height:n})=>{const s=g(e);return l(s,"w",t,!0,!0),l(s,"h",n,!0,!0),l(s,"q",j(s,"q"),!0),s},Xt=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,Ht=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},et=({host:e,cloudName:t,assetType:n,deliveryType:s,signature:r,transformations:o={},version:i,id:a,format:u})=>{u&&(o.f=u);const f=Object.entries(o).map(([d,p])=>`${d}_${p}`).join(",");return`https://${[e,t,n,s,r,f,i,a].filter(Boolean).join("/")}`},rt=e=>{const n=[...g(e).toString().matchAll(Xt)];if(!n.length)throw new Error("Invalid Cloudinary URL");const s=n[0].groups||{},{transformations:r="",idAndFormat:o,...i}=s;delete s.idAndFormat;const a=o.lastIndexOf("."),u=a<0?o:o.slice(0,a),f=a<0?void 0:o.slice(a+1),{w:m,h:d,f:p,...b}=Ht(r),c=p&&p!=="auto"?p:f;return{base:et({...i,id:u,transformations:b}),width:Number(m)||void 0,height:Number(d)||void 0,format:c,cdn:"cloudinary",params:{...s,id:s.deliveryType==="fetch"?o:u,format:c,transformations:b}}},Zt=({base:e,width:t,height:n,format:s,params:r})=>{var a;const o=rt(e.toString()),i={transformations:{},...o.params,...r,format:s||"auto"};return t&&(i.transformations.w=P(t).toString()),n&&(i.transformations.h=P(n).toString()),(a=i.transformations).c||(a.c="lfill"),et(i)},Yt=({url:e,width:t,height:n,format:s="auto"})=>{var i,a;const r=rt(e);if(!r)throw new Error("Invalid Cloudinary URL");if(((i=r.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((a=r.params)!=null&&a.signature)throw new Error("Cloudinary transformer does not support signed URLs");const o={...r,width:t,height:n,format:s};return Zt(o)},Jt=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,Kt=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),nt=({host:e,transformations:t={},path:n})=>{const s=Object.entries(t).map(([o,i])=>`${o}=${i}`).join(",");return`https://${[e,"cdn-cgi","image",s,n].join("/")}`},st=e=>{const t=g(e),n=[...t.toString().matchAll(Jt)];if(!n.length)throw new Error("Invalid Cloudflare URL");const s=n[0].groups||{},{transformations:r,...o}=s,{width:i,height:a,f:u,...f}=Kt(r);return nt({...o,transformations:f}),{base:t.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare",params:{...s,transformations:f}}},Qt=({base:e,width:t,height:n,format:s,params:r})=>{var a;const o=st(e.toString()),i={transformations:{},...o.params,...r};return t&&(i.transformations.width=t==null?void 0:t.toString()),n&&(i.transformations.height=n==null?void 0:n.toString()),s&&(i.transformations.f=s==="jpg"?"jpeg":s),(a=i.transformations).fit||(a.fit="cover"),new URL(nt(i))},$t=({url:e,width:t,height:n,format:s="auto"})=>{const r=st(e);if(!r)throw new Error("Invalid Cloudflare URL");const o={...r,width:t,height:n,format:s};return Qt(o)},te=({url:e,width:t,height:n})=>{const s=g(e);return l(s,"width",t,!0,!0),t&&n&&y(s,"aspect_ratio",`${t}:${n}`),s},ee=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,re=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,ne=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[n,s]=t.split("(");return[n,s.replace(")","")]})):{},se=e=>{if(!e)return;const t=Object.entries(e).map(([n,s])=>`${n}(${s??""})`);if(t.length!==0)return`filters:${t.join(":")}`},oe=e=>{const t=g(e),n=t.hostname==="img2.storyblok.com"?re:ee,[s]=t.pathname.matchAll(n);if(!s||!s.groups)throw new Error("Invalid Storyblok URL");const{id:r,crop:o,width:i,height:a,filters:u,flipx:f,flipy:m}=s.groups,{format:d,...p}=ne(u);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+r,width:Number(i)||void 0,height:Number(a)||void 0,format:d,params:{crop:o,filters:p,flipx:f,flipy:m},cdn:"storyblok"}},ie=({base:e,width:t=0,height:n=0,format:s,params:r={}})=>{const{crop:o,filters:i,flipx:a="",flipy:u=""}=r,f=`${a}${t}x${u}${n}`;return new URL([e,"m",o,f,se(i),s].filter(Boolean).join("/"))},ae=({url:e,width:t,height:n,format:s})=>{const r=oe(e);if(r)return s&&(r.params||(r.params={filters:{}}),r.params.filters||(r.params.filters={}),r.params.filters.format=s),ie({...r,width:t,height:n})},ce=({url:e,width:t,height:n,format:s})=>{const r=g(e);return l(r,"w",t,!0,!0),l(r,"h",n,!0,!0),l(r,"fm",s,!0),t&&n&&y(r,"fit","crop"),r},M=e=>{const n=g(e).searchParams.get("url");if(!n||!n.startsWith("http"))return!1;const s=tt(n);return s?{cdn:s,url:n}:!1},ue=({base:e,width:t,params:{quality:n=75,root:s="_vercel"}={}})=>{const r=new URL("http://n");return r.pathname=`/${s}/image`,r.searchParams.set("url",e.toString()),l(r,"w",t,!1,!0),y(r,"q",n),$(r)},ot=({url:e,width:t,cdn:n})=>{const s=g(e),r=s.pathname.startsWith("/_next/image")||s.pathname.startsWith("/_vercel/image"),o=r?s.searchParams.get("url"):e.toString();if(o)return l(s,"w",t,!0,!0),r?O(s):ue({base:o,width:t,params:{root:n==="nextjs"?"_next":"_vercel"}})},fe=e=>ot({...e,cdn:"nextjs"}),le=({url:e,width:t,height:n,format:s})=>{const r=g(e);return l(r,"wid",t,!0,!0),l(r,"hei",n,!0,!0),l(r,"fmt",s,!0),l(r,"qlt",j(r,"qlt"),!0),l(r,"scl",j(r,"scl"),!0),y(r,"fit","crop"),!t&&!n&&y(r,"scl",1),r},me=({url:e,width:t,height:n,format:s})=>{const r=g(e);return l(r,"width",t,!0,!0),l(r,"height",n,!0,!0),l(r,"format",s,!0),l(r,"quality",j(r,"quality"),!0),y(r,"enlarge",0),r},de=({url:e,width:t,height:n,format:s})=>{const r=g(e);return l(r,"width",t,!0,!0),l(r,"height",n,!0,!0),l(r,"format",s),l(r,"quality",j(r,"quality"),!0),r},N={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function ge(e){return Object.keys(N).find(s=>N[s]===e)||""}function he(e){let t=e.toString(),n=[];if(t){let s=t.split("imgeng=");s.length>1&&(n=s[1].split("/"))}return n}function pe(e){let t=e.toString(),n="";if(t){let s=t.split("imgeng=");s.length>1?n=s[0].slice(0,-1):n=t}return n}const be=({url:e,width:t,height:n,format:s})=>{const r=g(e),o=pe(r);let i={};const a=r.toString()===o?[]:he(r);a.length&&(i=Se(a)),t&&(i.width=t),n&&(i.height=n),s&&(i.format=s),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let u=ye(i),f=we(u),m=f===""?"":o.includes("?")?"&":"?";return`${o}${m}${f}`};function ye(e){return Object.entries(e).reduce((t,[n,s])=>t+_e(n,s),"")}function we(e){return e&&e!==""?`imgeng=${e}`:""}function _e(e,t){let n=N[e];return n&&(t||t===0)?`/${n}_${t}`:""}function Se(e){let t={};return e.forEach(n=>{let s=n.split("_");if(s.length>1){let r=s[0],o=s[1],i=ge(r);i&&(t[i]=o)}}),t}const Pe=({url:e,width:t,height:n,format:s})=>{const r=g(e);return l(r,"width",t,!0,!0),l(r,"height",n,!0,!0),l(r,"format",s),r.searchParams.has("format")||y(r,"auto","webp"),t&&n&&y(r,"fit","crop"),r},ve=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,xe=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(n=>n.split("=")))??[])},je=({host:e,accountHash:t,transformations:n={},imageId:s})=>{const r=Object.entries(n).map(([i,a])=>`${i}=${a}`).join(",");return`https://${[e,"cdn-cgi","imagedelivery",t,s,r].join("/")}`},it=e=>{const t=g(e),n=[...t.toString().matchAll(ve)];if(!n.length)throw new Error("Invalid Cloudflare Images URL");const s=n[0].groups||{},{transformations:r,...o}=s,{w:i,h:a,f:u,...f}=xe(r);return{base:t.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare_images",params:{...o,transformations:f}}},Ee=({base:e,width:t,height:n,format:s,params:r})=>{var a;const o=it(e.toString()),i={transformations:{},...o.params,...r};return t&&(i.transformations.w=t==null?void 0:t.toString()),n&&(i.transformations.h=n==null?void 0:n.toString()),s&&(i.transformations.f=s),(a=i.transformations).fit||(a.fit="cover"),new URL(je(i))},Ue=({url:e,width:t,height:n,format:s="auto"})=>{const r=it(e);if(!r)throw new Error("Invalid Cloudflare Images URL");const o={...r,width:t,height:n,format:s};return Ee(o)},Ie=e=>{const t=g(e),[n,...s]=t.pathname.split("/").slice(1),r=Object.fromEntries(n.split(",").map(o=>{const[i,a]=o.split("_");return[i,a]}));if(r.s){const[o,i]=r.s.split("x");r.w||(r.w=o),r.h||(r.h=i)}return{base:s.join("/"),width:Number(r.w)||void 0,height:Number(r.h)||void 0,quality:Number(r.q)||void 0,format:r.f||"auto",params:r,cdn:"ipx"}},D=({base:e,width:t,height:n,format:s,params:r})=>{const o=(r==null?void 0:r.modifiers)??{};t&&n?o.s=`${t}x${n}`:t?o.w=`${t}`:n&&(o.h=`${n}`),s&&(o.f=s);const i=r!=null&&r.base.endsWith("/")?r==null?void 0:r.base:`${r==null?void 0:r.base}/`,a=Object.entries(o).map(([m,d])=>`${m}_${d}`).join(","),u=e.toString(),f=u.startsWith("/")?u.slice(1):u;return`${i}${a}/${f}`},Re=e=>{var i,a,u,f;const t=String(e.url),n=g(t),s=n.pathname.startsWith("/_ipx")&&n.hostname!=="n"?`${n.origin}/_ipx`:"/_ipx",r=((a=(i=e.cdnOptions)==null?void 0:i.ipx)==null?void 0:a.base)??s;if(r&&r!=="/"&&t.startsWith(r)){const m=Ie(t.replace(r,""));return D({...m,...e,params:{...(u=e.cdnOptions)==null?void 0:u.ipx,base:r}})}return D({...e,base:t,params:{...(f=e.cdnOptions)==null?void 0:f.ipx,base:r}})},Le=({url:e,width:t,height:n,format:s})=>{const r=g(e),o=O(new URL(r.pathname,r.origin)),i={searchParams:new URLSearchParams};return l(i,"href",o,!0,!0),l(i,"w",t,!0,!0),l(i,"h",n,!0,!0),l(i,"f",s),`/_image?${i.searchParams.toString()}`},Ne=new Set(["w","h","q","fm","url","width","height","quality"]),Oe=e=>{const t=g(e),n=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,s=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,r=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,o=t.searchParams.get("fm")||void 0,i=t.searchParams.get("url")||"",a={quality:r};return t.searchParams.forEach((u,f)=>{Ne.has(f)||(a[f]=u)}),t.search="",{base:i,width:n,height:s,format:o,params:a,cdn:"netlify"}},B=({base:e,width:t,height:n,format:s,params:{site:r,quality:o,...i}={}})=>{const a=g("/.netlify/images",r);return Object.entries(i).forEach(([u,f])=>l(a,u,f)),l(a,"q",o,!0,!0),l(a,"w",t,!0,!0),l(a,"h",n,!0,!0),l(a,"fm",s),y(a,"fit","cover"),a.searchParams.set("url",e.toString()),O(a)},ke=e=>{var n,s;const t=g(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:r,base:o,format:i}=Oe(t);return B({base:o,format:i,...e,params:{...r,site:t.hostname==="n"?void 0:t.origin}})}return B({...e,base:e.url,params:{site:(s=(n=e.cdnOptions)==null?void 0:n.netlify)==null?void 0:s.site}})},Te=e=>(e.searchParams.get("tr")||"").split(",").reduce((n,s)=>{const[r,o]=s.split("-");return n[r]=o,n},{}),ze=({url:e,width:t,height:n,format:s})=>{const r=g(e),o=Te(r);o.w=t&&Math.round(t),o.h=n&&Math.round(n),o.f||(o.f="auto"),s&&(o.f=s);const i=Object.keys(o).map(a=>{const u=o[a];if(u)return`${a}-${u}`}).filter(a=>a).join(",");return r.searchParams.set("tr",i),r},We=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function at(e){const t=new URL(e),n=t.pathname+t.search+t.hash,s=n.lastIndexOf("http"),r=n.lastIndexOf("/");let o="";return s>=0?o=n.slice(s):r>=0&&(o=n.slice(r+1)),o}function qe(e){return e.startsWith("http")}function Ae(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function Fe(e){const t=new URL(e),n=at(e),s=qe(n)?Ae(n).pathname:n;return t.pathname=t.pathname.replace(s,""),t.search="",t.hash="",t.toString()}const Ce=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function Me(e){const t=Fe(e),n=new URL(t),s=n.pathname.indexOf("/-/");return s===-1?[]:n.pathname.substring(s).split("/-/").filter(Boolean).map(o=>Ce(o))}const De=e=>e.length?e.reduce((t,n)=>{const[s,r]=n.split("/");return{...t,[s]:r}},{}):{},ct=({host:e,uuid:t,operations:n={},filename:s})=>{const r=Object.entries(n).map(([i,a])=>`${i}/${a}`).join("/-/");return`https://${[e,t,r?`-/${r}`:"",s].join("/")}`},ut=e=>{const t=g(e),n=[...t.toString().matchAll(We)];if(!n.length)throw new Error("Invalid Uploadcare URL");const s=n[0].groups||{},{...r}=s,o=at(t.toString()),{format:i,...a}=De(Me(t.toString())),u=i&&i!=="auto"?i:"auto";return{base:ct({...r,filename:o||void 0,operations:{...a,format:u}}),cdn:"uploadcare",params:{...s,filename:o||void 0,operations:{...a,format:u}}}},Be=({base:e,width:t,height:n,params:s})=>{const r=e.toString(),o=ut(r.endsWith("/")?r:`${r}/`),i={operations:{},...o.params,...s};return t&&n?i.operations={...i.operations,resize:`${t}x${n}`}:(t&&(i.operations={...i.operations,resize:`${t}x`}),n&&(i.operations={...i.operations,resize:`x${n}`})),ct(i)},Ge=({url:e,width:t,height:n})=>{const s=ut(e);if(!s)throw new Error("Invalid Uploadcare URL");const r={...s,width:t,height:n};return Be(r)},Ve=["origin"],ft="/storage/v1/object/public/",k="/storage/v1/render/image/public/",Xe=e=>e.pathname.startsWith(k),lt=e=>{const t=g(e);if(!Xe(t))return{cdn:"supabase",base:t.origin+t.pathname};const s=t.pathname.replace(k,""),r=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,o=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,i=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,a=t.searchParams.has("format")?t.searchParams.get("format"):void 0,u=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+ft+s,width:o,height:i,format:a,params:{quality:r,resize:u}}},He=({base:e,width:t,height:n,format:s,params:r})=>{const o=lt(e.toString());e=o.base,t=t||o.width,n=n||o.height,s=s||o.format,r={...o.params,...r};const i=new URLSearchParams;return t&&i.set("width",P(t).toString()),n&&i.set("height",P(n).toString()),s&&Ve.includes(s)&&i.set("format",s),r!=null&&r.quality&&i.set("quality",P(r.quality).toString()),r!=null&&r.resize&&i.set("resize",r.resize),i.toString()===""?e:o.base.replace(ft,k)+"?"+i.toString()},Ze=({url:e,width:t,height:n,format:s,cdnOptions:r})=>{const o=lt(e);return He({base:o.base,width:t||o.width,height:n||o.height,format:s||o.format,params:(r==null?void 0:r.supabase)||o.params})},G={vercel:M,nextjs:M};function Ye(e,t){if(!(t in G))return!1;const n=G[t];return n?n(e):!1}function T(e,t){const n=zt(e)||t;if(!n)return!1;const s=Ye(e,n);return s||{cdn:n,url:e}}const z=e=>({imgix:Ft,contentful:qt,"builder.io":At,shopify:Bt,wordpress:Gt,cloudimage:Vt,cloudinary:Yt,bunny:te,storyblok:ae,cloudflare:$t,vercel:ot,nextjs:fe,scene7:le,"kontent.ai":ce,keycdn:me,directus:de,imageengine:be,contentstack:Pe,cloudflare_images:Ue,ipx:Re,astro:Le,netlify:ke,imagekit:ze,uploadcare:Ge,supabase:Ze})[e];var Je=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},x=e=>e||e===0?`${e}px`:void 0,Ke=({width:e,height:t,aspectRatio:n,layout:s,objectFit:r="cover",background:o})=>{const i=[["object-fit",r]];return o!=null&&o.startsWith("https:")||o!=null&&o.startsWith("http:")||o!=null&&o.startsWith("data:")?(i.push(["background-image",`url(${o})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",o]),s==="fixed"&&(i.push(["width",x(e)]),i.push(["height",x(t)])),s==="constrained"&&(i.push(["max-width",x(e)]),i.push(["max-height",x(t)]),i.push(["aspect-ratio",n?`${n}`:void 0]),i.push(["width","100%"])),s==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",n?`${n}`:void 0]),i.push(["height",x(t)])),Object.fromEntries(i.filter(([,a])=>a))},Qe=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],V=24,$e=({width:e,layout:t,resolutions:n=Qe})=>{if(t==="fullWidth")return n;if(!e)return[];const s=e*2;return t==="fixed"?[e,s]:t==="constrained"?[e,s,...n.filter(r=>r<s)]:[]},tr=({src:e,width:t,layout:n="constrained",height:s,aspectRatio:r,breakpoints:o,cdn:i,transformer:a,format:u})=>{const f=T(e,i);return f&&!a&&(a=z(f.cdn)),a?(o||(o=$e({width:t,layout:n})),o.sort((m,d)=>m-d).map(m=>{let d;return s&&r&&(d=Math.round(m/r)),{url:f?f.url:e,width:m,height:d,format:u}})):[]},er=e=>{let{src:t,cdn:n,transformer:s}=e;const r=T(t,n);return r&&!s&&(s=z(r.cdn)),s?tr({...e,transformer:s}).map(o=>{const i=s(o);return`${i==null?void 0:i.toString()} ${o.width}w`}).join(`,
`):""};function rr({width:e,height:t,priority:n,layout:s="constrained",aspectRatio:r,...o}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,n?(o.loading||(o.loading="eager"),o.fetchpriority||(o.fetchpriority="high")):(o.loading||(o.loading="lazy"),o.decoding||(o.decoding="async")),o.alt===""&&(o.role||(o.role="presentation")),r?e?t||(t=e/r):t&&(e=t*r):e&&t&&(r=e/t),{width:e,height:t,aspectRatio:r,layout:s,...o}}function nr(e){let{src:t,cdn:n,transformer:s,background:r,layout:o,objectFit:i,breakpoints:a,width:u,height:f,aspectRatio:m,unstyled:d,...p}=rr(e);const b=t?T(t,n):void 0;let c=t;if(b&&(c=b.url,s||(s=z(b.cdn))),s&&r==="auto"){const w=m?Math.round(V/m):void 0,_=s({url:c,width:V,height:w});_&&(r=_.toString())}const h={width:u,height:f,aspectRatio:m,layout:o,objectFit:i,background:r};if(p.sizes||(p.sizes=Je(u,o)),d||(p.style={...Ke(h),...p.style}),s){p.srcset=er({src:c,width:u,height:f,aspectRatio:m,layout:o,breakpoints:a,transformer:s,cdn:n});const w=s({url:c,width:u,height:f});w&&(c=w),(o==="fullWidth"||o==="constrained")&&(u=void 0,f=void 0)}return{...p,src:c==null?void 0:c.toString(),width:u,height:f}}function sr(e,t){const n=RegExp(e,"g");return s=>{if(typeof s!="string")throw new TypeError(`expected an argument of type string, but got ${typeof s}`);return s.match(n)?s.replace(n,t):s}}const or=sr(/[A-Z]/,e=>`-${e.toLowerCase()}`);function ir(e,t=or){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(n=>`${t(n)}: ${e[n]};`).join(`
`)}function ar(e){var m,d,p,b;let t,n,s,r,o,i,a,u=[e[11],{style:e[0]},{loading:e[6]},{width:e[8]},{height:e[7]},{decoding:e[5]},{role:e[3]},{fetchpriority:e[1]},{alt:n=(m=e[10])==null?void 0:m.toString()},{src:s=(d=e[9])==null?void 0:d.toString()},{srcset:r=(p=e[4])==null?void 0:p.toString()},{sizes:o=(b=e[2])==null?void 0:b.toString()}],f={};for(let c=0;c<u.length;c+=1)f=v(f,u[c]);return{c(){t=mt("img"),this.h()},l(c){t=dt(c,"IMG",{style:!0,loading:!0,width:!0,height:!0,decoding:!0,role:!0,fetchpriority:!0,alt:!0,src:!0,srcset:!0,sizes:!0}),this.h()},h(){W(t,f)},m(c,h){Z(c,t,h),i||(a=[q(t,"load",e[15]),q(t,"error",e[16])],i=!0)},p(c,[h]){var w,_,E,S;W(t,f=Q(u,[h&2048&&c[11],h&1&&{style:c[0]},h&64&&{loading:c[6]},h&256&&{width:c[8]},h&128&&{height:c[7]},h&32&&{decoding:c[5]},h&8&&{role:c[3]},h&2&&{fetchpriority:c[1]},h&1024&&n!==(n=(w=c[10])==null?void 0:w.toString())&&{alt:n},h&512&&!gt(t.src,s=(_=c[9])==null?void 0:_.toString())&&{src:s},h&16&&r!==(r=(E=c[4])==null?void 0:E.toString())&&{srcset:r},h&4&&o!==(o=(S=c[2])==null?void 0:S.toString())&&{sizes:o}]))},i:A,o:A,d(c){c&&Y(t),i=!1,ht(a)}}}function cr(e,t,n){let s,r,o,i,a,u,f,m,d,p,b,c,h,w;function _(S){R.call(this,e,S)}function E(S){R.call(this,e,S)}return e.$$set=S=>{n(11,t=v(v({},t),I(S)))},e.$$.update=()=>{n(12,{style:s,...r}=t,s,(n(14,r),n(11,t))),e.$$.dirty&16384&&n(10,{alt:o,style:i,src:a,width:u,height:f,loading:m,decoding:d,srcset:p,role:b,sizes:c,fetchpriority:h}=nr(r),o,(n(13,i),n(14,r),n(11,t)),(n(9,a),n(14,r),n(11,t)),(n(8,u),n(14,r),n(11,t)),(n(7,f),n(14,r),n(11,t)),(n(6,m),n(14,r),n(11,t)),(n(5,d),n(14,r),n(11,t)),(n(4,p),n(14,r),n(11,t)),(n(3,b),n(14,r),n(11,t)),(n(2,c),n(14,r),n(11,t)),(n(1,h),n(14,r),n(11,t))),e.$$.dirty&12288&&n(0,w=[ir(i||{}),s].filter(Boolean).join(";"))},t=I(t),[w,h,c,b,p,d,m,f,u,a,o,t,s,i,r,_,E]}class ur extends J{constructor(t){super(),K(this,t,cr,ar,H,{})}}function fr({loaderOptions:e,imageProps:t,cldOptions:n,cldConfig:s={}}){const r={...t,...n};r.width=typeof r.width=="string"?parseInt(r.width):r.width,r.height=typeof r.height=="string"?parseInt(r.height):r.height;let o;return typeof(e==null?void 0:e.width)=="number"&&typeof r.width=="number"&&e.width!==r.width?o=e.width:typeof(e==null?void 0:e.width)=="number"&&typeof(r==null?void 0:r.width)!="number"&&(o=e.width,r.width=o),r.width&&o&&o<r.width&&(r.widthResize=e.width),vt(r,s)}function X(e){let t,n;const s=[e[0],{cdn:"cloudinary"},{transformer:e[7]}];let r={};for(let o=0;o<s.length;o+=1)r=v(r,s[o]);return t=new ur({props:r}),t.$on("load",e[8]),t.$on("error",e[9]),{c(){yt(t.$$.fragment)},l(o){wt(t.$$.fragment,o)},m(o,i){_t(t,o,i),n=!0},p(o,i){const a=i&7?Q(s,[i&1&&Pt(o[0]),s[1],{transformer:o[7]}]):{};t.$set(a)},i(o){n||(U(t.$$.fragment,o),n=!0)},o(o){L(t.$$.fragment,o),n=!1},d(o){St(t,o)}}}function lr(e){let t,n,s=e[0].src&&X(e);return{c(){s&&s.c(),t=F()},l(r){s&&s.l(r),t=F()},m(r,o){s&&s.m(r,o),Z(r,t,o),n=!0},p(r,[o]){r[0].src?s?(s.p(r,o),o&1&&U(s,1)):(s=X(r),s.c(),U(s,1),s.m(t.parentNode,t)):s&&(pt(),L(s,1,1,()=>{s=null}),bt())},i(r){n||(U(s),n=!0)},o(r){L(s),n=!1},d(r){r&&Y(t),s&&s.d(r)}}}function mr(e,t,n){let s,r,o,i,a,u;const f=["config","deliveryType","preserveTransformations"];xt.forEach(({props:c=[]})=>{c.forEach(h=>{if(f.includes(h))throw new Error(`Option ${h} already exists!`);f.push(h)})});const m={};f.forEach(c=>{t[c]&&n(1,m[c]=t[c]||void 0,m)});const d=c=>fr({loaderOptions:c,imageProps:u,cldOptions:{...m,width:u.width},cldConfig:a});function p(c){R.call(this,e,c)}function b(c){R.call(this,e,c)}return e.$$set=c=>{n(11,t=v(v({},t),I(c)))},e.$$.update=()=>{if(n(6,{alt:s,src:r,width:o,height:i,config:a}=t,s,(n(5,r),n(11,t)),(n(4,o),n(11,t)),(n(3,i),n(11,t)),(n(2,a),n(11,t))),e.$$.dirty&120&&n(0,u={alt:s,src:r,width:typeof o=="string"?parseInt(o):o,height:typeof i=="string"?parseInt(i):i}),u&&Object.keys(t).filter(c=>!f.includes(c)).forEach(c=>{n(0,u[c]=t[c],u)}),t.preserveTransformations)try{const c=Lt(u.src).map(h=>h.join(","));n(1,m.rawTransformations=[...c.flat(),...t.rawTransformations||[]],m)}catch(c){console.warn(`Failed to preserve transformations: ${c.message}`)}},t=I(t),[u,m,a,i,o,r,s,d,p,b]}class br extends J{constructor(t){super(),K(this,t,mr,lr,H,{})}}export{br as C};
