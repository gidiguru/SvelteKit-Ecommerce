import{s as z,l as V,u as j,o as K,p as Q,r as se,y,z as L,e as ie,c as ae,b as le,f as B,A as W,i as G,x as de,S as ce,J as re,t as ue,d as fe}from"./scheduler.I4M8gLU-.js";import{S as J,i as R,t as k,a as M,c as _e,b as pe,m as ge,d as me}from"./index.87xRCZ45.js";import{g as F,a as he}from"./spread.rEx3vLA9.js";import{e as N,c as ye}from"./CldImage.vNrjymSR.js";function Ce(n){return window&&"requestIdleCallback"in window?requestIdleCallback(n):setTimeout(()=>n(),1)}function Ee({type:n="widget",onLoad:e,onError:o}){const t=document.createElement("script");n==="widget"?t.src="https://widget.cloudinary.com/v2.0/global/all.js":t.src="https://unpkg.com/cloudinary-video-player@1.9.4/dist/cld-video-player.min.js",document.body.appendChild(t),t.addEventListener("load",e),t.addEventListener("error",o)}var be={VITE_PUBLIC_CLOUDINARY_CLOUD_NAME:"da6xasun0",VITE_PUBLIC_CLOUDINARY_API_KEY:"528393748178165",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ue=n=>({widget:n[0]&2,cloudinary:n[0]&1,isLoading:n[0]&4}),q=n=>({widget:n[1],cloudinary:n[0],isLoading:n[2],...n[3],"data-testid":"slot"});function Ie(n){let e;const o=n[5].default,t=V(o,n,n[4],q);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,s){t&&t.m(a,s),e=!0},p(a,s){t&&t.p&&(!e||s[0]&23)&&j(t,o,a,a[4],e?Q(o,a[4],s,Ue):K(a[4]),q)},i(a){e||(k(t,a),e=!0)},o(a){M(t,a),e=!1},d(a){t&&t.d(a)}}}function Se(n,e,o){let{$$slots:t={},$$scope:a}=e;const{uploadPreset:s,signatureEndpoint:d,onError:p,onUpload:f,options:h,onOpen:m,onClose:l}=e;let r,c;const P=!!d,w=["success","display-changed"],A={abort:"onAbort","batch-cancelled":"onBatchCancelled","display-changed":"onDisplayChanged",publicid:"onPublicId","queues-end":"onQueuesEnd","queues-start":"onQueuesStart",retry:"onRetry","show-completed":"onShowCompleted","source-changed":"onSourceChanged",success:"onSuccess",tags:"onTags","upload-added":"onUploadAdded"},b=N.PUBLIC_CLOUDINARY_CLOUD_NAME||"da6xasun0";ye(b);let U=!0;const C={cloudName:b,uploadPreset:s||N.PUBLIC_CLOUDINARY_UPLOAD_PRESET||be.PUBLIC_CLOUDINARY_UPLOAD_PRESET,apiKey:N.PUBLIC_CLOUDINARY_API_KEY||"528393748178165",...h};P&&(C.uploadSignature=O,C.apiKey||console.warn("Missing dependency: Signed Upload requires an API key"));function D(){o(2,U=!1),r||o(0,r=window.cloudinary),Ce(()=>{c||o(1,c=I())})}function O(i,u){if(typeof d>"u")throw Error("Failed to generate signature: signatureEndpoint undefined.");fetch(d,{method:"POST",body:JSON.stringify({paramsToSign:u})}).then(g=>g.json()).then(({signature:g})=>{i(g)})}function I(){return r==null?void 0:r.createUploadWidget(C,(i,u)=>{if(i&&i!==null&&S(i),typeof(u==null?void 0:u.event)=="string"){w.includes(u==null?void 0:u.event)&&v(u);const g=A[u.event];if(typeof g=="string"&&typeof e[g]=="function"&&typeof e[g]){const oe=e[g];oe(u,{widget:c,...Y})}}})}function v(i){if(i!=null){const u=i.event==="success",g=i.event==="display-changed"&&i.info==="hidden";u&&typeof f=="function"&&f(i,c),g&&typeof l=="function"&&l(c)}}function S(i){i&&typeof p=="function"&&p(i,c)}se(()=>{var i;return(i=window.cloudinary)!=null&&i.createUploadWidget?D():Ee({onLoad:D,onError:S})});function _(i,u=[]){if(c||o(1,c=I()),typeof(c==null?void 0:c[i])=="function")return c==null?void 0:c[i](...u)}function T(i){_("close",[i])}function E(i){return _("destroy",[i])}function H(){_("hide")}function X(){return _("isDestroyed")}function Z(){return _("isMinimized")}function $(){return _("isShowing")}function x(){_("minimize")}function ee(i,u){_("open",[typeof i=="string"?i:null,u]),typeof m=="function"&&m(c)}function ne(){_("show")}function te(){_("update")}const Y={close:T,destroy:E,hide:H,isDestroyed:X,isMinimized:Z,isShowing:$,minimize:x,open:ee,show:ne,update:te};return n.$$set=i=>{o(34,e=y(y({},e),L(i))),"$$scope"in i&&o(4,a=i.$$scope)},e=L(e),[r,c,U,Y,a,t]}class Le extends J{constructor(e){super(),R(this,e,Se,Ie,z,{},null,[-1,-1])}}function Pe(n){let e;return{c(){e=ue("Upload")},l(o){e=fe(o,"Upload")},m(o,t){G(o,e,t)},d(o){o&&B(e)}}}function we(n){let e,o,t,a,s;const d=n[2].default,p=V(d,n,n[3],null),f=p||Pe();let h=[n[0],{disabled:o=n[26]}],m={};for(let l=0;l<h.length;l+=1)m=y(m,h[l]);return{c(){e=ie("button"),f&&f.c(),this.h()},l(l){e=ae(l,"BUTTON",{});var r=le(e);f&&f.l(r),r.forEach(B),this.h()},h(){W(e,m)},m(l,r){G(l,e,r),f&&f.m(e,null),e.autofocus&&e.focus(),t=!0,a||(s=de(e,"click",ce(function(){re(n[25])&&n[25].apply(this,arguments)})),a=!0)},p(l,r){n=l,p&&p.p&&(!t||r&8)&&j(p,d,n,n[3],t?Q(d,n[3],r,null):K(n[3]),null),W(e,m=F(h,[n[0],(!t||r&67108864&&o!==(o=n[26]))&&{disabled:o}]))},i(l){t||(k(f,l),t=!0)},o(l){M(f,l),t=!1},d(l){l&&B(e),f&&f.d(l),a=!1,s()}}}function Ae(n){let e,o;const t=[n[1]];let a={$$slots:{default:[we,({open:s,isLoading:d})=>({25:s,26:d}),({open:s,isLoading:d})=>(s?33554432:0)|(d?67108864:0)]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)a=y(a,t[s]);return e=new Le({props:a}),{c(){_e(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,d){ge(e,s,d),o=!0},p(s,[d]){const p=d&2?F(t,[he(s[1])]):{};d&100663304&&(p.$$scope={dirty:d,ctx:s}),e.$set(p)},i(s){o||(k(e.$$.fragment,s),o=!0)},o(s){M(e.$$.fragment,s),o=!1},d(s){me(e,s)}}}function De(n,e,o){let{$$slots:t={},$$scope:a}=e;const{children:s,onError:d,onOpen:p,onUpload:f,onAbort:h,onBatchCancelled:m,onClose:l,onDisplayChanged:r,onPublicId:c,onQueuesEnd:P,onQueuesStart:w,onRetry:A,onShowCompleted:b,onSourceChanged:U,onSuccess:C,onTags:D,onUploadAdded:O,options:I,signatureEndpoint:v,uploadPreset:S,..._}=e;let T={onAbort:h,onBatchCancelled:m,onDisplayChanged:r,onPublicId:c,onQueuesEnd:P,onQueuesStart:w,onRetry:A,onShowCompleted:b,onSourceChanged:U,onSuccess:C,onUploadAdded:O,onClose:l,onOpen:p,options:I,onUpload:f,onError:d,uploadPreset:S,signatureEndpoint:v};return delete _.$$slots,delete _.$$scope,n.$$set=E=>{o(24,e=y(y({},e),L(E))),"$$scope"in E&&o(3,a=E.$$scope)},e=L(e),[_,T,t,a]}class Be extends J{constructor(e){super(),R(this,e,De,Ae,z,{})}}export{Be as C};
