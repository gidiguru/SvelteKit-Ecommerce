import{s as Y,y as V,z as A,l as z,u as G,o as W,p as q,e as N,a as E,c as O,b as P,f as $,g as D,m as w,i as b,h as I,w as ie,t as R,d as M,n as K,v as ce}from"../chunks/scheduler.wvXfHD85.js";import{S as U,i as F,c as g,b as _,m as h,t as m,a as p,d as v,e as ue,g as fe}from"../chunks/index.g90p2mwt.js";import{e as re}from"../chunks/each.5xwV0ohN.js";import{C as de}from"../chunks/CldImage.61Rz0iPn.js";import"../chunks/getCldImageUrl.DuPXM9E8.js";import{C as me}from"../chunks/CldUploadButton.ACY9X6Lg.js";import{i as pe}from"../chunks/entry.Czeeh5lQ.js";import{d as $e,e as ge}from"../chunks/forms.EKLRtYMN.js";import{R as _e,T as he,D as ve,G as we,c as ye,a as be,b as B}from"../chunks/index.3R_eKFup.js";import{B as J}from"../chunks/index.nuGukHMn.js";import{g as Q,a as H}from"../chunks/spread.rEx3vLA9.js";import{I as Z}from"../chunks/Icon.od-fKyEU.js";import{T as Ee}from"../chunks/trash.Uc1QENtX.js";function De(s){let e;const o=s[2].default,r=z(o,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,t){r&&r.m(n,t),e=!0},p(n,t){r&&r.p&&(!e||t&8)&&G(r,o,n,n[3],e?q(o,n[3],t,null):W(n[3]),null)},i(n){e||(m(r,n),e=!0)},o(n){p(r,n),e=!1},d(n){r&&r.d(n)}}}function Ie(s){let e,o;const r=[{name:"crown"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[De]},$$scope:{ctx:s}};for(let t=0;t<r.length;t+=1)n=V(n,r[t]);return e=new Z({props:n}),{c(){g(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,a){h(e,t,a),o=!0},p(t,[a]){const i=a&3?Q(r,[r[0],a&2&&H(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){p(e.$$.fragment,t),o=!1},d(t){v(e,t)}}}function Ne(s,e,o){let{$$slots:r={},$$scope:n}=e;const t=[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"}]];return s.$$set=a=>{o(1,e=V(V({},e),A(a))),"$$scope"in a&&o(3,n=a.$$scope)},e=A(e),[t,e,r,n]}class Oe extends U{constructor(e){super(),F(this,e,Ne,Ie,Y,{})}}function Ve(s){let e;const o=s[2].default,r=z(o,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,t){r&&r.m(n,t),e=!0},p(n,t){r&&r.p&&(!e||t&8)&&G(r,o,n,n[3],e?q(o,n[3],t,null):W(n[3]),null)},i(n){e||(m(r,n),e=!0)},o(n){p(r,n),e=!1},d(n){r&&r.d(n)}}}function Te(s){let e,o;const r=[{name:"folder-kanban"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Ve]},$$scope:{ctx:s}};for(let t=0;t<r.length;t+=1)n=V(n,r[t]);return e=new Z({props:n}),{c(){g(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,a){h(e,t,a),o=!0},p(t,[a]){const i=a&3?Q(r,[r[0],a&2&&H(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){p(e.$$.fragment,t),o=!1},d(t){v(e,t)}}}function je(s,e,o){let{$$slots:r={},$$scope:n}=e;const t=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}],["path",{d:"M8 10v4"}],["path",{d:"M12 10v2"}],["path",{d:"M16 10v6"}]];return s.$$set=a=>{o(1,e=V(V({},e),A(a))),"$$scope"in a&&o(3,n=a.$$scope)},e=A(e),[t,e,r,n]}class Pe extends U{constructor(e){super(),F(this,e,je,Te,Y,{})}}function ke(s){let e;const o=s[2].default,r=z(o,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,t){r&&r.m(n,t),e=!0},p(n,t){r&&r.p&&(!e||t&8)&&G(r,o,n,n[3],e?q(o,n[3],t,null):W(n[3]),null)},i(n){e||(m(r,n),e=!0)},o(n){p(r,n),e=!1},d(n){r&&r.d(n)}}}function Ae(s){let e,o;const r=[{name:"toggle-right"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[ke]},$$scope:{ctx:s}};for(let t=0;t<r.length;t+=1)n=V(n,r[t]);return e=new Z({props:n}),{c(){g(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,a){h(e,t,a),o=!0},p(t,[a]){const i=a&3?Q(r,[r[0],a&2&&H(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){p(e.$$.fragment,t),o=!1},d(t){v(e,t)}}}function Se(s,e,o){let{$$slots:r={},$$scope:n}=e;const t=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"16",cy:"12",r:"2"}]];return s.$$set=a=>{o(1,e=V(V({},e),A(a))),"$$scope"in a&&o(3,n=a.$$scope)},e=A(e),[t,e,r,n]}class Re extends U{constructor(e){super(),F(this,e,Se,Ae,Y,{})}}function Me(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Le(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var o=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var n=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(o,r,n.get?n:{enumerable:!0,get:function(){return s[r]}})}),o}var T={exports:{}};const Ce={},Ye=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"})),x=Le(Ye),Ke="dotenv",Ue="16.4.1",Fe="Loads environment variables from .env file",xe="lib/main.js",Be="lib/main.d.ts",ze={".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},Ge={"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},We={type:"git",url:"git://github.com/motdotla/dotenv.git"},qe="https://github.com/motdotla/dotenv?sponsor=1",Je=["dotenv","env",".env","environment","variables","config","settings"],Qe="README.md",He="BSD-2-Clause",Ze={"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},Xe={node:">=12"},et={fs:!1},tt={name:Ke,version:Ue,description:Fe,main:xe,types:Be,exports:ze,scripts:Ge,repository:We,funding:qe,keywords:Je,readmeFilename:Qe,license:He,devDependencies:Ze,engines:Xe,browser:et};var S={};const L=x,X=x,nt=x,rt=x,ot=tt,ee=ot.version,st=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function at(s){const e={};let o=s.toString();o=o.replace(/\r\n?/mg,`
`);let r;for(;(r=st.exec(o))!=null;){const n=r[1];let t=r[2]||"";t=t.trim();const a=t[0];t=t.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),a==='"'&&(t=t.replace(/\\n/g,`
`),t=t.replace(/\\r/g,"\r")),e[n]=t}return e}function lt(s){const e=le(s),o=y.configDotenv({path:e});if(!o.parsed){const a=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw a.code="MISSING_DATA",a}const r=ae(s).split(","),n=r.length;let t;for(let a=0;a<n;a++)try{const i=r[a].trim(),l=ut(o,i);t=y.decrypt(l.ciphertext,l.key);break}catch(i){if(a+1>=n)throw i}return y.parse(t)}function it(s){console.log(`[dotenv@${ee}][INFO] ${s}`)}function ct(s){console.log(`[dotenv@${ee}][WARN] ${s}`)}function C(s){console.log(`[dotenv@${ee}][DEBUG] ${s}`)}function ae(s){return s&&s.DOTENV_KEY&&s.DOTENV_KEY.length>0?s.DOTENV_KEY:S.DOTENV_KEY&&S.DOTENV_KEY.length>0?S.DOTENV_KEY:""}function ut(s,e){let o;try{o=new URL(e)}catch(i){if(i.code==="ERR_INVALID_URL"){const l=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development");throw l.code="INVALID_DOTENV_KEY",l}throw i}const r=o.password;if(!r){const i=new Error("INVALID_DOTENV_KEY: Missing key part");throw i.code="INVALID_DOTENV_KEY",i}const n=o.searchParams.get("environment");if(!n){const i=new Error("INVALID_DOTENV_KEY: Missing environment part");throw i.code="INVALID_DOTENV_KEY",i}const t=`DOTENV_VAULT_${n.toUpperCase()}`,a=s.parsed[t];if(!a){const i=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${t} in your .env.vault file.`);throw i.code="NOT_FOUND_DOTENV_ENVIRONMENT",i}return{ciphertext:a,key:r}}function le(s){let e=null;if(s&&s.path&&s.path.length>0)if(Array.isArray(s.path))for(const o of s.path)L.existsSync(o)&&(e=o.endsWith(".vault")?o:`${o}.vault`);else e=s.path.endsWith(".vault")?s.path:`${s.path}.vault`;else e=X.resolve(process.cwd(),".env.vault");return L.existsSync(e)?e:null}function ft(s){return s[0]==="~"?X.join(nt.homedir(),s.slice(1)):s}function dt(s){it("Loading env from encrypted .env.vault");const e=y._parseVault(s);let o=S;return s&&s.processEnv!=null&&(o=s.processEnv),y.populate(o,e,s),{parsed:e}}function mt(s){let e=X.resolve(process.cwd(),".env"),o="utf8";const r=!!(s&&s.debug);if(s){if(s.path!=null){let n=s.path;if(Array.isArray(n)){for(const t of s.path)if(L.existsSync(t)){n=t;break}}e=ft(n)}s.encoding!=null?o=s.encoding:r&&C("No encoding is specified. UTF-8 is used by default")}try{const n=y.parse(L.readFileSync(e,{encoding:o}));let t=S;return s&&s.processEnv!=null&&(t=s.processEnv),y.populate(t,n,s),{parsed:n}}catch(n){return r&&C(`Failed to load ${e} ${n.message}`),{error:n}}}function pt(s){if(ae(s).length===0)return y.configDotenv(s);const e=le(s);return e?y._configVault(s):(ct(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),y.configDotenv(s))}function $t(s,e){const o=Buffer.from(e.slice(-64),"hex");let r=Buffer.from(s,"base64");const n=r.subarray(0,12),t=r.subarray(-16);r=r.subarray(12,-16);try{const a=rt.createDecipheriv("aes-256-gcm",o,n);return a.setAuthTag(t),`${a.update(r)}${a.final()}`}catch(a){const i=a instanceof RangeError,l=a.message==="Invalid key length",f=a.message==="Unsupported state or unable to authenticate data";if(i||l){const u=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw u.code="INVALID_DOTENV_KEY",u}else if(f){const u=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw u.code="DECRYPTION_FAILED",u}else throw a}}function gt(s,e,o={}){const r=!!(o&&o.debug),n=!!(o&&o.override);if(typeof e!="object"){const t=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw t.code="OBJECT_REQUIRED",t}for(const t of Object.keys(e))Object.prototype.hasOwnProperty.call(s,t)?(n===!0&&(s[t]=e[t]),r&&C(n===!0?`"${t}" is already defined and WAS overwritten`:`"${t}" is already defined and was NOT overwritten`)):s[t]=e[t]}const y={configDotenv:mt,_configVault:dt,_parseVault:lt,config:pt,decrypt:$t,parse:at,populate:gt};T.exports.configDotenv=y.configDotenv;T.exports._configVault=y._configVault;T.exports._parseVault=y._parseVault;T.exports.config=y.config;T.exports.decrypt=y.decrypt;T.exports.parse=y.parse;T.exports.populate=y.populate;T.exports=y;var _t=T.exports;const ht=Me(_t);var vt={};function oe(s,e,o){const r=s.slice();return r[3]=e[o],r}function wt(s){let e,o,r;return e=new Pe({props:{class:"w-4 h-4 mr-2"}}),{c(){g(e.$$.fragment),o=R(`\r
						Manage`)},l(n){_(e.$$.fragment,n),o=M(n,`\r
						Manage`)},m(n,t){h(e,n,t),b(n,o,t),r=!0},p:K,i(n){r||(m(e.$$.fragment,n),r=!0)},o(n){p(e.$$.fragment,n),r=!1},d(n){n&&$(o),v(e,n)}}}function yt(s){let e;return{c(){e=R("Manage Image")},l(o){e=M(o,"Manage Image")},m(o,r){b(o,e,r)},d(o){o&&$(e)}}}function bt(s){let e,o,r;return e=new Oe({props:{class:"w-4 h-4 mr-2"}}),{c(){g(e.$$.fragment),o=R(`\r
										Set Primary`)},l(n){_(e.$$.fragment,n),o=M(n,`\r
										Set Primary`)},m(n,t){h(e,n,t),b(n,o,t),r=!0},p:K,i(n){r||(m(e.$$.fragment,n),r=!0)},o(n){p(e.$$.fragment,n),r=!1},d(n){n&&$(o),v(e,n)}}}function Et(s){let e,o,r,n,t,a;return t=new J({props:{size:"sm",type:"submit",class:"flex w-full justify-start",disabled:s[3].isPrimary,$$slots:{default:[bt]},$$scope:{ctx:s}}}),{c(){e=N("form"),o=N("input"),n=E(),g(t.$$.fragment),this.h()},l(i){e=O(i,"FORM",{method:!0,action:!0,class:!0});var l=P(e);o=O(l,"INPUT",{type:!0,name:!0}),n=D(l),_(t.$$.fragment,l),l.forEach($),this.h()},h(){w(o,"type","hidden"),w(o,"name","cloudinaryId"),o.value=r=s[3].cloudinaryId,w(e,"method","POST"),w(e,"action","?/markPrimary"),w(e,"class","py-1")},m(i,l){b(i,e,l),I(e,o),I(e,n),h(t,e,null),a=!0},p(i,l){(!a||l&1&&r!==(r=i[3].cloudinaryId))&&(o.value=r);const f={};l&1&&(f.disabled=i[3].isPrimary),l&64&&(f.$$scope={dirty:l,ctx:i}),t.$set(f)},i(i){a||(m(t.$$.fragment,i),a=!0)},o(i){p(t.$$.fragment,i),a=!1},d(i){i&&$(e),v(t)}}}function Dt(s){let e,o,r;return e=new Re({props:{class:"w-4 h-4 mr-2"}}),{c(){g(e.$$.fragment),o=R(`\r
										Toggle Vertical`)},l(n){_(e.$$.fragment,n),o=M(n,`\r
										Toggle Vertical`)},m(n,t){h(e,n,t),b(n,o,t),r=!0},p:K,i(n){r||(m(e.$$.fragment,n),r=!0)},o(n){p(e.$$.fragment,n),r=!1},d(n){n&&$(o),v(e,n)}}}function It(s){let e,o,r,n,t,a;return t=new J({props:{size:"sm",type:"submit",class:"flex w-full justify-start",$$slots:{default:[Dt]},$$scope:{ctx:s}}}),{c(){e=N("form"),o=N("input"),n=E(),g(t.$$.fragment),this.h()},l(i){e=O(i,"FORM",{method:!0,action:!0,class:!0});var l=P(e);o=O(l,"INPUT",{type:!0,name:!0}),n=D(l),_(t.$$.fragment,l),l.forEach($),this.h()},h(){w(o,"type","hidden"),w(o,"name","cloudinaryId"),o.value=r=s[3].cloudinaryId,w(e,"method","POST"),w(e,"action","?/toggleVertical"),w(e,"class","py-1")},m(i,l){b(i,e,l),I(e,o),I(e,n),h(t,e,null),a=!0},p(i,l){(!a||l&1&&r!==(r=i[3].cloudinaryId))&&(o.value=r);const f={};l&64&&(f.$$scope={dirty:l,ctx:i}),t.$set(f)},i(i){a||(m(t.$$.fragment,i),a=!0)},o(i){p(t.$$.fragment,i),a=!1},d(i){i&&$(e),v(t)}}}function Nt(s){let e,o,r;return e=new Ee({props:{class:"w-4 h-4 mr-2"}}),{c(){g(e.$$.fragment),o=R(`\r
										Delete`)},l(n){_(e.$$.fragment,n),o=M(n,`\r
										Delete`)},m(n,t){h(e,n,t),b(n,o,t),r=!0},p:K,i(n){r||(m(e.$$.fragment,n),r=!0)},o(n){p(e.$$.fragment,n),r=!1},d(n){n&&$(o),v(e,n)}}}function Ot(s){let e,o,r,n,t,a,i,l;return t=new J({props:{size:"sm",variant:"destructive",type:"submit",class:"flex w-full justify-start",$$slots:{default:[Nt]},$$scope:{ctx:s}}}),{c(){e=N("form"),o=N("input"),n=E(),g(t.$$.fragment),this.h()},l(f){e=O(f,"FORM",{method:!0,action:!0,class:!0});var u=P(e);o=O(u,"INPUT",{type:!0,name:!0}),n=D(u),_(t.$$.fragment,u),u.forEach($),this.h()},h(){w(o,"type","hidden"),w(o,"name","cloudinaryId"),o.value=r=s[3].cloudinaryId,w(e,"method","POST"),w(e,"action","?/delete"),w(e,"class","py-1")},m(f,u){b(f,e,u),I(e,o),I(e,n),h(t,e,null),a=!0,i||(l=ce(ge.call(null,e)),i=!0)},p(f,u){(!a||u&1&&r!==(r=f[3].cloudinaryId))&&(o.value=r);const c={};u&64&&(c.$$scope={dirty:u,ctx:f}),t.$set(c)},i(f){a||(m(t.$$.fragment,f),a=!0)},o(f){p(t.$$.fragment,f),a=!1},d(f){f&&$(e),v(t),i=!1,l()}}}function Vt(s){let e,o,r,n,t,a,i,l,f,u;return e=new ye({props:{$$slots:{default:[yt]},$$scope:{ctx:s}}}),r=new be({}),t=new B({props:{asChild:!0,$$slots:{default:[Et]},$$scope:{ctx:s}}}),i=new B({props:{asChild:!0,$$slots:{default:[It]},$$scope:{ctx:s}}}),f=new B({props:{asChild:!0,$$slots:{default:[Ot]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment),o=E(),g(r.$$.fragment),n=E(),g(t.$$.fragment),a=E(),g(i.$$.fragment),l=E(),g(f.$$.fragment)},l(c){_(e.$$.fragment,c),o=D(c),_(r.$$.fragment,c),n=D(c),_(t.$$.fragment,c),a=D(c),_(i.$$.fragment,c),l=D(c),_(f.$$.fragment,c)},m(c,d){h(e,c,d),b(c,o,d),h(r,c,d),b(c,n,d),h(t,c,d),b(c,a,d),h(i,c,d),b(c,l,d),h(f,c,d),u=!0},p(c,d){const j={};d&64&&(j.$$scope={dirty:d,ctx:c}),e.$set(j);const k={};d&65&&(k.$$scope={dirty:d,ctx:c}),t.$set(k);const te={};d&65&&(te.$$scope={dirty:d,ctx:c}),i.$set(te);const ne={};d&65&&(ne.$$scope={dirty:d,ctx:c}),f.$set(ne)},i(c){u||(m(e.$$.fragment,c),m(r.$$.fragment,c),m(t.$$.fragment,c),m(i.$$.fragment,c),m(f.$$.fragment,c),u=!0)},o(c){p(e.$$.fragment,c),p(r.$$.fragment,c),p(t.$$.fragment,c),p(i.$$.fragment,c),p(f.$$.fragment,c),u=!1},d(c){c&&($(o),$(n),$(a),$(l)),v(e,c),v(r,c),v(t,c),v(i,c),v(f,c)}}}function Tt(s){let e,o;return e=new we({props:{class:"p-2",$$slots:{default:[Vt]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(r){_(e.$$.fragment,r)},m(r,n){h(e,r,n),o=!0},p(r,n){const t={};n&65&&(t.$$scope={dirty:n,ctx:r}),e.$set(t)},i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),o=!1},d(r){v(e,r)}}}function jt(s){let e,o,r,n;return e=new he({props:{class:"w-full h-full absolute top-0 left-0 bg-neutral-800 z-40 hover:opacity-100 opacity-0 bg-opacity-60 flex flex-row items-center justify-center text-white",$$slots:{default:[wt]},$$scope:{ctx:s}}}),r=new ve({props:{$$slots:{default:[Tt]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment),o=E(),g(r.$$.fragment)},l(t){_(e.$$.fragment,t),o=D(t),_(r.$$.fragment,t)},m(t,a){h(e,t,a),b(t,o,a),h(r,t,a),n=!0},p(t,a){const i={};a&64&&(i.$$scope={dirty:a,ctx:t}),e.$set(i);const l={};a&65&&(l.$$scope={dirty:a,ctx:t}),r.$set(l)},i(t){n||(m(e.$$.fragment,t),m(r.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),p(r.$$.fragment,t),n=!1},d(t){t&&$(o),v(e,t),v(r,t)}}}function se(s){let e,o,r,n,t,a,i;return o=new de({props:{alt:s[3].cloudinaryId,src:s[3].cloudinaryId,width:600,height:s[3].isVertical?1e3:400,objectFit:"cover"}}),n=new _e({props:{$$slots:{default:[jt]},$$scope:{ctx:s}}}),{c(){e=N("div"),g(o.$$.fragment),r=E(),g(n.$$.fragment),t=E(),this.h()},l(l){e=O(l,"DIV",{class:!0});var f=P(e);_(o.$$.fragment,f),r=D(f),_(n.$$.fragment,f),t=D(f),f.forEach($),this.h()},h(){w(e,"class",a=`w-[300px] ${s[3].isVertical?"h-[500px]":"h-[200px]"} rounded-md overflow-hidden relative border-white ${s[3].isPrimary&&"border-4"}`)},m(l,f){b(l,e,f),h(o,e,null),I(e,r),h(n,e,null),I(e,t),i=!0},p(l,f){const u={};f&1&&(u.alt=l[3].cloudinaryId),f&1&&(u.src=l[3].cloudinaryId),f&1&&(u.height=l[3].isVertical?1e3:400),o.$set(u);const c={};f&65&&(c.$$scope={dirty:f,ctx:l}),n.$set(c),(!i||f&1&&a!==(a=`w-[300px] ${l[3].isVertical?"h-[500px]":"h-[200px]"} rounded-md overflow-hidden relative border-white ${l[3].isPrimary&&"border-4"}`))&&w(e,"class",a)},i(l){i||(m(o.$$.fragment,l),m(n.$$.fragment,l),i=!0)},o(l){p(o.$$.fragment,l),p(n.$$.fragment,l),i=!1},d(l){l&&$(e),v(o),v(n)}}}function Pt(s){let e,o,r,n,t,a,i=re(s[0].images),l=[];for(let u=0;u<i.length;u+=1)l[u]=se(oe(s,i,u));const f=u=>p(l[u],1,1,()=>{l[u]=null});return t=new me({props:{uploadPreset:vt.PUBLIC_CLOUDINARY_UPLOAD_PRESET,signatureEndpoint:"/api/cloudinary",class:"px-4 py-2 rounded-lg border-gray-900 bg-white text-gray-900 border font-semibold hover:bg-gray-200",onUpload:s[2]}}),{c(){e=N("div"),o=N("div");for(let u=0;u<l.length;u+=1)l[u].c();r=E(),n=N("div"),g(t.$$.fragment),this.h()},l(u){e=O(u,"DIV",{class:!0});var c=P(e);o=O(c,"DIV",{class:!0});var d=P(o);for(let k=0;k<l.length;k+=1)l[k].l(d);d.forEach($),r=D(c),n=O(c,"DIV",{class:!0});var j=P(n);_(t.$$.fragment,j),j.forEach($),c.forEach($),this.h()},h(){w(o,"class","flex flex-row flex-wrap grow gap-4"),w(n,"class","w-full flex flex-row justify-end"),w(e,"class","w-full h-full p-8 flex flex-col")},m(u,c){b(u,e,c),I(e,o);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(o,null);I(e,r),I(e,n),h(t,n,null),a=!0},p(u,[c]){if(c&1){i=re(u[0].images);let d;for(d=0;d<i.length;d+=1){const j=oe(u,i,d);l[d]?(l[d].p(j,c),m(l[d],1)):(l[d]=se(j),l[d].c(),m(l[d],1),l[d].m(o,null))}for(fe(),d=i.length;d<l.length;d+=1)f(d);ue()}},i(u){if(!a){for(let c=0;c<i.length;c+=1)m(l[c]);m(t.$$.fragment,u),a=!0}},o(u){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)p(l[c]);p(t.$$.fragment,u),a=!1},d(u){u&&$(e),ie(l,u),v(t)}}}function kt(s,e,o){let{data:r}=e;ht.config();async function n(a){const{public_id:i,width:l,height:f}=a,u=new FormData;u.append("cloudinaryId",i),u.append("width",l.toString()),u.append("height",f.toString());const c=await fetch(`/admin/products/${r.productId}/images?/create`,{method:"POST",body:u});$e(await c.text()).type==="success"&&await pe()}const t=a=>{a.event==="success"&&n(a.info)};return s.$$set=a=>{"data"in a&&o(0,r=a.data)},[r,n,t]}class Gt extends U{constructor(e){super(),F(this,e,kt,Pt,Y,{data:0})}}export{Gt as component};
