import{s as y,C as F,D as H,l as le,u as ne,o as ae,p as $e,e as P,a as v,y as U,c as B,b as L,g as A,f as u,m as q,i as d,h as N,t as T,d as S,n as O,w as oe,j as J}from"../chunks/scheduler.nD82W9v2.js";import{S as x,i as ee,c as m,b as _,m as p,t as f,a as c,d as g,e as te,j as fe,g as re}from"../chunks/index.yaR_9bqv.js";import{e as K}from"../chunks/each.-_FoTsOa.js";import{B as Y}from"../chunks/index.3NDdlAmi.js";import{T as ue,a as ce,b as ie,c as Q}from"../chunks/table-row._rYr33ml.js";import{A as me,a as _e}from"../chunks/index.1d4xG6v8.js";import{R as pe,T as ge,A as de,a as he,b as be,c as we,d as ve,e as Ae,f as Te}from"../chunks/index.3dRzczEt.js";import{f as Se}from"../chunks/index.21O2vQU9.js";import{I as ke}from"../chunks/input.p0W_-8Fv.js";import{L as Ee}from"../chunks/label.-bVuneSm.js";import{g as Ie,a as Ce}from"../chunks/spread.rEx3vLA9.js";import{I as De}from"../chunks/Icon.q2bkpGCn.js";import{T as se}from"../chunks/trash.rBnlcUZ6.js";import{A as Ne}from"../chunks/alert-title.r4ERVnDc.js";import{S as je}from"../chunks/square-pen.EZtzbEwE.js";function qe($){let e;const s=$[2].default,t=le(s,$,$[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ne(t,s,l,l[3],e?$e(s,l[3],r,null):ae(l[3]),null)},i(l){e||(f(t,l),e=!0)},o(l){c(t,l),e=!1},d(l){t&&t.d(l)}}}function Ve($){let e,s;const t=[{name:"square-plus"},$[1],{iconNode:$[0]}];let l={$$slots:{default:[qe]},$$scope:{ctx:$}};for(let r=0;r<t.length;r+=1)l=F(l,t[r]);return e=new De({props:l}),{c(){m(e.$$.fragment)},l(r){_(e.$$.fragment,r)},m(r,n){p(e,r,n),s=!0},p(r,[n]){const a=n&3?Ie(t,[t[0],n&2&&Ce(r[1]),n&1&&{iconNode:r[0]}]):{};n&8&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){s||(f(e.$$.fragment,r),s=!0)},o(r){c(e.$$.fragment,r),s=!1},d(r){g(e,r)}}}function Pe($,e,s){let{$$slots:t={},$$scope:l}=e;const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]];return $.$$set=n=>{s(1,e=F(F({},e),H(n))),"$$scope"in n&&s(3,l=n.$$scope)},e=H(e),[r,e,t,l]}class Be extends x{constructor(e){super(),ee(this,e,Pe,Ve,y,{})}}function W($,e,s){const t=$.slice();return t[4]=e[s],t[6]=s,t}function Le($){let e=$[4].name+"",s,t,l=$[4].id+"",r;return{c(){s=T(e),t=T(" - "),r=T(l)},l(n){s=S(n,e),t=S(n," - "),r=S(n,l)},m(n,a){d(n,s,a),d(n,t,a),d(n,r,a)},p(n,a){a&1&&e!==(e=n[4].name+"")&&J(s,e),a&1&&l!==(l=n[4].id+"")&&J(r,l)},d(n){n&&(u(s),u(t),u(r))}}}function Me($){let e,s,t;return e=new je({props:{class:"mr-2 h-4 w-4"}}),{c(){m(e.$$.fragment),s=T(`\r
							Edit`)},l(l){_(e.$$.fragment,l),s=S(l,`\r
							Edit`)},m(l,r){p(e,l,r),d(l,s,r),t=!0},p:O,i(l){t||(f(e.$$.fragment,l),t=!0)},o(l){c(e.$$.fragment,l),t=!1},d(l){l&&u(s),g(e,l)}}}function Re($){let e,s,t;return e=new se({props:{class:"mr-2 h-4 w-4"}}),{c(){m(e.$$.fragment),s=T(`\r
									Delete`)},l(l){_(e.$$.fragment,l),s=S(l,`\r
									Delete`)},m(l,r){p(e,l,r),d(l,s,r),t=!0},p:O,i(l){t||(f(e.$$.fragment,l),t=!0)},o(l){c(e.$$.fragment,l),t=!1},d(l){l&&u(s),g(e,l)}}}function Ue($){let e,s;return e=new Y({props:{class:" ",builders:[$[7]],$$slots:{default:[Re]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,l){p(e,t,l),s=!0},p(t,l){const r={};l&128&&(r.builders=[t[7]]),l&256&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){s||(f(e.$$.fragment,t),s=!0)},o(t){c(e.$$.fragment,t),s=!1},d(t){g(e,t)}}}function Ye($){let e;return{c(){e=T("Are you absolutely sure?")},l(s){e=S(s,"Are you absolutely sure?")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function ze($){let e;return{c(){e=T("This action cannot be undone. This will permanently delete your product.")},l(s){e=S(s,"This action cannot be undone. This will permanently delete your product.")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function Fe($){let e,s,t,l;return e=new we({props:{$$slots:{default:[Ye]},$$scope:{ctx:$}}}),t=new ve({props:{$$slots:{default:[ze]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),s=v(),m(t.$$.fragment)},l(r){_(e.$$.fragment,r),s=A(r),_(t.$$.fragment,r)},m(r,n){p(e,r,n),d(r,s,n),p(t,r,n),l=!0},p(r,n){const a={};n&256&&(a.$$scope={dirty:n,ctx:r}),e.$set(a);const o={};n&256&&(o.$$scope={dirty:n,ctx:r}),t.$set(o)},i(r){l||(f(e.$$.fragment,r),f(t.$$.fragment,r),l=!0)},o(r){c(e.$$.fragment,r),c(t.$$.fragment,r),l=!1},d(r){r&&u(s),g(e,r),g(t,r)}}}function Oe($){let e;return{c(){e=T("Cancel")},l(s){e=S(s,"Cancel")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function Ge($){let e;return{c(){e=T("Continue")},l(s){e=S(s,"Continue")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function He($){let e,s,t,l;e=new Ae({props:{$$slots:{default:[Oe]},$$scope:{ctx:$}}});function r(){return $[3]($[4],$[6])}return t=new Te({props:{$$slots:{default:[Ge]},$$scope:{ctx:$}}}),t.$on("click",r),{c(){m(e.$$.fragment),s=v(),m(t.$$.fragment)},l(n){_(e.$$.fragment,n),s=A(n),_(t.$$.fragment,n)},m(n,a){p(e,n,a),d(n,s,a),p(t,n,a),l=!0},p(n,a){$=n;const o={};a&256&&(o.$$scope={dirty:a,ctx:$}),e.$set(o);const h={};a&256&&(h.$$scope={dirty:a,ctx:$}),t.$set(h)},i(n){l||(f(e.$$.fragment,n),f(t.$$.fragment,n),l=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),l=!1},d(n){n&&u(s),g(e,n),g(t,n)}}}function Je($){let e,s,t,l;return e=new he({props:{$$slots:{default:[Fe]},$$scope:{ctx:$}}}),t=new be({props:{$$slots:{default:[He]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),s=v(),m(t.$$.fragment)},l(r){_(e.$$.fragment,r),s=A(r),_(t.$$.fragment,r)},m(r,n){p(e,r,n),d(r,s,n),p(t,r,n),l=!0},p(r,n){const a={};n&256&&(a.$$scope={dirty:n,ctx:r}),e.$set(a);const o={};n&257&&(o.$$scope={dirty:n,ctx:r}),t.$set(o)},i(r){l||(f(e.$$.fragment,r),f(t.$$.fragment,r),l=!0)},o(r){c(e.$$.fragment,r),c(t.$$.fragment,r),l=!1},d(r){r&&u(s),g(e,r),g(t,r)}}}function Ke($){let e,s,t,l;return e=new ge({props:{asChild:!0,$$slots:{default:[Ue,({builder:r})=>({7:r}),({builder:r})=>r?128:0]},$$scope:{ctx:$}}}),t=new de({props:{$$slots:{default:[Je]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),s=v(),m(t.$$.fragment)},l(r){_(e.$$.fragment,r),s=A(r),_(t.$$.fragment,r)},m(r,n){p(e,r,n),d(r,s,n),p(t,r,n),l=!0},p(r,n){const a={};n&384&&(a.$$scope={dirty:n,ctx:r}),e.$set(a);const o={};n&257&&(o.$$scope={dirty:n,ctx:r}),t.$set(o)},i(r){l||(f(e.$$.fragment,r),f(t.$$.fragment,r),l=!0)},o(r){c(e.$$.fragment,r),c(t.$$.fragment,r),l=!1},d(r){r&&u(s),g(e,r),g(t,r)}}}function Qe($){let e,s,t,l;return e=new Y({props:{class:"",href:`/admin/products/${$[4].id}/basics`,$$slots:{default:[Me]},$$scope:{ctx:$}}}),t=new pe({props:{$$slots:{default:[Ke]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),s=v(),m(t.$$.fragment)},l(r){_(e.$$.fragment,r),s=A(r),_(t.$$.fragment,r)},m(r,n){p(e,r,n),d(r,s,n),p(t,r,n),l=!0},p(r,n){const a={};n&1&&(a.href=`/admin/products/${r[4].id}/basics`),n&256&&(a.$$scope={dirty:n,ctx:r}),e.$set(a);const o={};n&257&&(o.$$scope={dirty:n,ctx:r}),t.$set(o)},i(r){l||(f(e.$$.fragment,r),f(t.$$.fragment,r),l=!0)},o(r){c(e.$$.fragment,r),c(t.$$.fragment,r),l=!1},d(r){r&&u(s),g(e,r),g(t,r)}}}function We($){let e,s,t,l,r;return e=new Q({props:{class:"font-bold",$$slots:{default:[Le]},$$scope:{ctx:$}}}),t=new Q({props:{class:"flex flex-row items-center gap-x-4",$$slots:{default:[Qe]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),s=v(),m(t.$$.fragment),l=v()},l(n){_(e.$$.fragment,n),s=A(n),_(t.$$.fragment,n),l=A(n)},m(n,a){p(e,n,a),d(n,s,a),p(t,n,a),d(n,l,a),r=!0},p(n,a){const o={};a&257&&(o.$$scope={dirty:a,ctx:n}),e.$set(o);const h={};a&257&&(h.$$scope={dirty:a,ctx:n}),t.$set(h)},i(n){r||(f(e.$$.fragment,n),f(t.$$.fragment,n),r=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),r=!1},d(n){n&&(u(s),u(l)),g(e,n),g(t,n)}}}function X($){let e,s;return e=new ie({props:{class:"flex justify-between items-center",$$slots:{default:[We]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,l){p(e,t,l),s=!0},p(t,l){const r={};l&257&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){s||(f(e.$$.fragment,t),s=!0)},o(t){c(e.$$.fragment,t),s=!1},d(t){g(e,t)}}}function Xe($){let e,s,t=K($[0].products),l=[];for(let n=0;n<t.length;n+=1)l[n]=X(W($,t,n));const r=n=>c(l[n],1,1,()=>{l[n]=null});return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=U()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=U()},m(n,a){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(n,a);d(n,e,a),s=!0},p(n,a){if(a&133){t=K(n[0].products);let o;for(o=0;o<t.length;o+=1){const h=W(n,t,o);l[o]?(l[o].p(h,a),f(l[o],1)):(l[o]=X(h),l[o].c(),f(l[o],1),l[o].m(e.parentNode,e))}for(re(),o=t.length;o<l.length;o+=1)r(o);te()}},i(n){if(!s){for(let a=0;a<t.length;a+=1)f(l[a]);s=!0}},o(n){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)c(l[a]);s=!1},d(n){n&&u(e),oe(l,n)}}}function Ze($){let e,s;return e=new ce({props:{$$slots:{default:[Xe]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,l){p(e,t,l),s=!0},p(t,l){const r={};l&257&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){s||(f(e.$$.fragment,t),s=!0)},o(t){c(e.$$.fragment,t),s=!1},d(t){g(e,t)}}}function ye($){let e,s,t;return e=new Be({props:{class:"w-4 h-4 mr-2"}}),{c(){m(e.$$.fragment),s=T(`\r
			New Product`)},l(l){_(e.$$.fragment,l),s=S(l,`\r
			New Product`)},m(l,r){p(e,l,r),d(l,s,r),t=!0},p:O,i(l){t||(f(e.$$.fragment,l),t=!0)},o(l){c(e.$$.fragment,l),t=!1},d(l){l&&u(s),g(e,l)}}}function xe($){let e;return{c(){e=T("Upload Prices CSV")},l(s){e=S(s,"Upload Prices CSV")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function et($){let e;return{c(){e=T("Submit")},l(s){e=S(s,"Submit")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function Z($){let e,s,t,l;return s=new me({props:{$$slots:{default:[st]},$$scope:{ctx:$}}}),{c(){e=P("div"),m(s.$$.fragment),this.h()},l(r){e=B(r,"DIV",{class:!0});var n=L(e);_(s.$$.fragment,n),n.forEach(u),this.h()},h(){q(e,"class","absolute right-12 bottom-12 z-30 w-[500px]")},m(r,n){d(r,e,n),p(s,e,null),l=!0},i(r){l||(f(s.$$.fragment,r),t&&t.end(1),l=!0)},o(r){c(s.$$.fragment,r),r&&(t=fe(e,Se,{})),l=!1},d(r){r&&u(e),g(s),r&&t&&t.end()}}}function tt($){let e;return{c(){e=T("Success!")},l(s){e=S(s,"Success!")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function rt($){let e;return{c(){e=T("Your product was successfully deleted.")},l(s){e=S(s,"Your product was successfully deleted.")},m(s,t){d(s,e,t)},d(s){s&&u(e)}}}function st($){let e,s,t,l,r,n;return e=new se({props:{class:"h-4 w-4"}}),t=new Ne({props:{$$slots:{default:[tt]},$$scope:{ctx:$}}}),r=new _e({props:{$$slots:{default:[rt]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),s=v(),m(t.$$.fragment),l=v(),m(r.$$.fragment)},l(a){_(e.$$.fragment,a),s=A(a),_(t.$$.fragment,a),l=A(a),_(r.$$.fragment,a)},m(a,o){p(e,a,o),d(a,s,o),p(t,a,o),d(a,l,o),p(r,a,o),n=!0},p(a,o){const h={};o&256&&(h.$$scope={dirty:o,ctx:a}),t.$set(h);const k={};o&256&&(k.$$scope={dirty:o,ctx:a}),r.$set(k)},i(a){n||(f(e.$$.fragment,a),f(t.$$.fragment,a),f(r.$$.fragment,a),n=!0)},o(a){c(e.$$.fragment,a),c(t.$$.fragment,a),c(r.$$.fragment,a),n=!1},d(a){a&&(u(s),u(l)),g(e,a),g(t,a),g(r,a)}}}function lt($){let e,s,t,l,r,n,a,o,h,k,I,z,E,M,j,R;s=new ue({props:{class:"max-h-9/10 overflow-auto",$$slots:{default:[Ze]},$$scope:{ctx:$}}}),r=new Y({props:{href:"/admin/products/new",class:" ",$$slots:{default:[ye]},$$scope:{ctx:$}}}),h=new Ee({props:{for:"prices",$$slots:{default:[xe]},$$scope:{ctx:$}}}),I=new ke({props:{id:"prices",type:"file",name:"prices",accept:".csv",required:!0}}),E=new Y({props:{type:"submit",$$slots:{default:[et]},$$scope:{ctx:$}}});let w=$[1]&&Z($);return{c(){e=P("div"),m(s.$$.fragment),t=v(),l=P("div"),m(r.$$.fragment),n=v(),a=P("form"),o=P("div"),m(h.$$.fragment),k=v(),m(I.$$.fragment),z=v(),m(E.$$.fragment),M=v(),w&&w.c(),j=U(),this.h()},l(i){e=B(i,"DIV",{class:!0});var b=L(e);_(s.$$.fragment,b),t=A(b),l=B(b,"DIV",{class:!0});var V=L(l);_(r.$$.fragment,V),V.forEach(u),n=A(b),a=B(b,"FORM",{method:!0,enctype:!0});var C=L(a);o=B(C,"DIV",{class:!0});var D=L(o);_(h.$$.fragment,D),k=A(D),_(I.$$.fragment,D),D.forEach(u),z=A(C),_(E.$$.fragment,C),C.forEach(u),b.forEach(u),M=A(i),w&&w.l(i),j=U(),this.h()},h(){q(l,"class","h-1/10 w-full flex items-center flex-row justify-end"),q(o,"class","grid w-full max-w-sm items-center gap-1.5"),q(a,"method","post"),q(a,"enctype","multipart/form-data"),q(e,"class","p-4 flex flex-col justify-between h-full")},m(i,b){d(i,e,b),p(s,e,null),N(e,t),N(e,l),p(r,l,null),N(e,n),N(e,a),N(a,o),p(h,o,null),N(o,k),p(I,o,null),N(a,z),p(E,a,null),d(i,M,b),w&&w.m(i,b),d(i,j,b),R=!0},p(i,[b]){const V={};b&257&&(V.$$scope={dirty:b,ctx:i}),s.$set(V);const C={};b&256&&(C.$$scope={dirty:b,ctx:i}),r.$set(C);const D={};b&256&&(D.$$scope={dirty:b,ctx:i}),h.$set(D);const G={};b&256&&(G.$$scope={dirty:b,ctx:i}),E.$set(G),i[1]?w?b&2&&f(w,1):(w=Z(i),w.c(),f(w,1),w.m(j.parentNode,j)):w&&(re(),c(w,1,1,()=>{w=null}),te())},i(i){R||(f(s.$$.fragment,i),f(r.$$.fragment,i),f(h.$$.fragment,i),f(I.$$.fragment,i),f(E.$$.fragment,i),f(w),R=!0)},o(i){c(s.$$.fragment,i),c(r.$$.fragment,i),c(h.$$.fragment,i),c(I.$$.fragment,i),c(E.$$.fragment,i),c(w),R=!1},d(i){i&&(u(e),u(M),u(j)),g(s),g(r),g(h),g(I),g(E),w&&w.d(i)}}}function nt($,e,s){let{data:t}=e,l=!1;const r=(a,o)=>{fetch(`/admin/products?productId=${a}`,{method:"DELETE"}).then(h=>{if(h.status===200){const k=t.products;k.splice(o,1),s(0,t.products=k,t),s(1,l=!0),setTimeout(()=>{s(1,l=!1)},3e3)}else alert("something went wrong...")})},n=(a,o)=>{r(a.id,o)};return $.$$set=a=>{"data"in a&&s(0,t=a.data)},[t,l,r,n]}class vt extends x{constructor(e){super(),ee(this,e,nt,lt,y,{data:0})}}export{vt as component};
