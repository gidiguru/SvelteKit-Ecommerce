import{s as N,r as R,a as j,g as D,i as _,f as u,J as z,e as y,y as O,c as A,b as J,m as T,h as S,v as H,K as Q,t as L,d as P,j as q}from"../chunks/scheduler.nD82W9v2.js";import{S as W,i as X,c as h,b,m as v,t as $,a as d,d as w,h as Y,g as Z,e as x}from"../chunks/index.yaR_9bqv.js";import{e as ee}from"../chunks/forms.v_Dxtd-J.js";import{B as te}from"../chunks/index.3NDdlAmi.js";import{C as se,a as re,b as ae,c as ne,d as oe}from"../chunks/card-title.OdhyVUV_.js";import{I as le}from"../chunks/input.p0W_-8Fv.js";import{L as fe}from"../chunks/label.-bVuneSm.js";import{A as ie,a as ce}from"../chunks/index.1d4xG6v8.js";function ue(o){let t;return{c(){t=L("Email List")},l(s){t=P(s,"Email List")},m(s,e){_(s,t,e)},d(s){s&&u(t)}}}function me(o){let t;return{c(){t=L("Get updates and deals from the Techshop team")},l(s){t=P(s,"Get updates and deals from the Techshop team")},m(s,e){_(s,t,e)},d(s){s&&u(t)}}}function $e(o){let t,s,e,a;return t=new ne({props:{$$slots:{default:[ue]},$$scope:{ctx:o}}}),e=new oe({props:{$$slots:{default:[me]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment),s=j(),h(e.$$.fragment)},l(r){b(t.$$.fragment,r),s=D(r),b(e.$$.fragment,r)},m(r,n){v(t,r,n),_(r,s,n),v(e,r,n),a=!0},p(r,n){const m={};n&256&&(m.$$scope={dirty:n,ctx:r}),t.$set(m);const p={};n&256&&(p.$$scope={dirty:n,ctx:r}),e.$set(p)},i(r){a||($(t.$$.fragment,r),$(e.$$.fragment,r),a=!0)},o(r){d(t.$$.fragment,r),d(e.$$.fragment,r),a=!1},d(r){r&&u(s),w(t,r),w(e,r)}}}function pe(o){let t;return{c(){t=L("Email")},l(s){t=P(s,"Email")},m(s,e){_(s,t,e)},d(s){s&&u(t)}}}function de(o){let t=o[1]?"Joining...":"Join",s;return{c(){s=L(t)},l(e){s=P(e,t)},m(e,a){_(e,s,a)},p(e,a){a&2&&t!==(t=e[1]?"Joining...":"Join")&&q(s,t)},d(e){e&&u(s)}}}function U(o){let t,s,e;return s=new ie({props:{variant:o[3],$$slots:{default:[ge]},$$scope:{ctx:o}}}),{c(){t=y("div"),h(s.$$.fragment),this.h()},l(a){t=A(a,"DIV",{class:!0});var r=J(t);b(s.$$.fragment,r),r.forEach(u),this.h()},h(){T(t,"class","mt-4")},m(a,r){_(a,t,r),v(s,t,null),e=!0},p(a,r){const n={};r&8&&(n.variant=a[3]),r&260&&(n.$$scope={dirty:r,ctx:a}),s.$set(n)},i(a){e||($(s.$$.fragment,a),e=!0)},o(a){d(s.$$.fragment,a),e=!1},d(a){a&&u(t),w(s)}}}function _e(o){let t;return{c(){t=L(o[2])},l(s){t=P(s,o[2])},m(s,e){_(s,t,e)},p(s,e){e&4&&q(t,s[2])},d(s){s&&u(t)}}}function ge(o){let t,s;return t=new ce({props:{$$slots:{default:[_e]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,a){const r={};a&260&&(r.$$scope={dirty:a,ctx:e}),t.$set(r)},i(e){s||($(t.$$.fragment,e),s=!0)},o(e){d(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function he(o){let t,s,e,a,r,n,m,p,E,g,f,F,V,M,B;a=new fe({props:{for:"email",$$slots:{default:[pe]},$$scope:{ctx:o}}});function K(l){o[6](l)}let G={id:"email",placeholder:"you@example.com",name:"email"};o[0]!==void 0&&(G.value=o[0]),n=new le({props:G}),z.push(()=>Y(n,"value",K)),g=new te({props:{type:"submit",disabled:o[1],$$slots:{default:[de]},$$scope:{ctx:o}}});let i=o[2]&&U(o);return{c(){t=y("form"),s=y("div"),e=y("div"),h(a.$$.fragment),r=j(),h(n.$$.fragment),p=j(),E=y("div"),h(g.$$.fragment),f=j(),i&&i.c(),F=O(),this.h()},l(l){t=A(l,"FORM",{method:!0});var c=J(t);s=A(c,"DIV",{class:!0});var I=J(s);e=A(I,"DIV",{class:!0});var C=J(e);b(a.$$.fragment,C),r=D(C),b(n.$$.fragment,C),C.forEach(u),I.forEach(u),p=D(c),E=A(c,"DIV",{class:!0});var k=J(E);b(g.$$.fragment,k),k.forEach(u),c.forEach(u),f=D(l),i&&i.l(l),F=O(),this.h()},h(){T(e,"class","flex flex-col space-y-1.5"),T(s,"class","grid w-full items-center gap-4"),T(E,"class","flex justify-end pt-4"),T(t,"method","POST")},m(l,c){_(l,t,c),S(t,s),S(s,e),v(a,e,null),S(e,r),v(n,e,null),S(t,p),S(t,E),v(g,E,null),_(l,f,c),i&&i.m(l,c),_(l,F,c),V=!0,M||(B=H(ee.call(null,t,o[4])),M=!0)},p(l,c){const I={};c&256&&(I.$$scope={dirty:c,ctx:l}),a.$set(I);const C={};!m&&c&1&&(m=!0,C.value=l[0],Q(()=>m=!1)),n.$set(C);const k={};c&2&&(k.disabled=l[1]),c&258&&(k.$$scope={dirty:c,ctx:l}),g.$set(k),l[2]?i?(i.p(l,c),c&4&&$(i,1)):(i=U(l),i.c(),$(i,1),i.m(F.parentNode,F)):i&&(Z(),d(i,1,1,()=>{i=null}),x())},i(l){V||($(a.$$.fragment,l),$(n.$$.fragment,l),$(g.$$.fragment,l),$(i),V=!0)},o(l){d(a.$$.fragment,l),d(n.$$.fragment,l),d(g.$$.fragment,l),d(i),V=!1},d(l){l&&(u(t),u(f),u(F)),w(a),w(n),w(g),i&&i.d(l),M=!1,B()}}}function be(o){let t,s,e,a;return t=new re({props:{$$slots:{default:[$e]},$$scope:{ctx:o}}}),e=new ae({props:{$$slots:{default:[he]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment),s=j(),h(e.$$.fragment)},l(r){b(t.$$.fragment,r),s=D(r),b(e.$$.fragment,r)},m(r,n){v(t,r,n),_(r,s,n),v(e,r,n),a=!0},p(r,n){const m={};n&256&&(m.$$scope={dirty:n,ctx:r}),t.$set(m);const p={};n&271&&(p.$$scope={dirty:n,ctx:r}),e.$set(p)},i(r){a||($(t.$$.fragment,r),$(e.$$.fragment,r),a=!0)},o(r){d(t.$$.fragment,r),d(e.$$.fragment,r),a=!1},d(r){r&&u(s),w(t,r),w(e,r)}}}function ve(o){let t,s;return t=new se({props:{class:"w-[400px]",$$slots:{default:[be]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,a){v(t,e,a),s=!0},p(e,[a]){const r={};a&271&&(r.$$scope={dirty:a,ctx:e}),t.$set(r)},i(e){s||($(t.$$.fragment,e),s=!0)},o(e){d(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function we(o,t,s){let{form:e}=t,a=!1,r="",n="",m="default";R(()=>{console.log("Component mounted")});function p(){e!=null&&e.error?(s(2,n=e.error),s(3,m="destructive")):e!=null&&e.success?(s(2,n="Successfully joined the email list!"),s(3,m="default")):(s(2,n=""),s(3,m="default")),console.log("Updated message:",n),console.log("Updated messageType:",m)}const E=()=>(console.log("Form submission started"),s(1,a=!0),({result:f})=>{console.log("Form submission completed",f),s(1,a=!1),f.type==="success"?(s(0,r=""),s(5,e={success:!0}),console.log("Form submission successful, email reset")):f.type==="failure"?(console.log("Form submission failed:",f.data),f.data&&typeof f.data=="object"?s(5,e=f.data):s(5,e={error:"An unexpected error occurred. Please try again."})):f.type==="error"?(console.error("Form submission error:",f.error),s(5,e={error:"An unexpected error occurred. Please try again."})):f.type==="redirect"&&console.log("Form submission resulted in redirect"),p()});function g(f){r=f,s(0,r)}return o.$$set=f=>{"form"in f&&s(5,e=f.form)},o.$$.update=()=>{o.$$.dirty&32&&(console.log("Form data changed:",e),p()),o.$$.dirty&1&&console.log("Email input changed:",r)},[r,a,n,m,E,e,g]}class Je extends W{constructor(t){super(),X(this,t,we,ve,N,{form:5})}}export{Je as component};
