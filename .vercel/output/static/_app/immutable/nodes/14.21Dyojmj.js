import{s as k,y as N,z as M,l as F,u as B,o as A,p as L,e as D,a as I,c as T,b as V,f as p,g as y,m as v,i as b,h as P,w as X,t as E,d as O,n as U,v as x}from"../chunks/scheduler.I4M8gLU-.js";import{S as j,i as z,c as _,b as g,m as h,t as m,a as d,d as w,e as ee,g as te}from"../chunks/index.87xRCZ45.js";import{e as K}from"../chunks/each.BMxcx5xk.js";import{e as ne,C as re}from"../chunks/CldImage.vNrjymSR.js";import{C as ae}from"../chunks/CldUploadButton.ZqF6s6OU.js";import{i as le}from"../chunks/entry.ZuPgesb1.js";import{d as se,e as oe}from"../chunks/forms.mpqiNeKk.js";import{R as fe,T as ue,D as ie,G as $e,c as ce,a as me,b as R}from"../chunks/index.AZrcI-K7.js";import{B as G}from"../chunks/index.7C7vluqN.js";import{g as q,a as H}from"../chunks/spread.rEx3vLA9.js";import{I as Y}from"../chunks/Icon.KQdkk_Pl.js";import{T as de}from"../chunks/trash.Na_pMOp-.js";function pe(o){let e;const a=o[2].default,r=F(a,o,o[3],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,n){r&&r.p&&(!e||n&8)&&B(r,a,t,t[3],e?L(a,t[3],n,null):A(t[3]),null)},i(t){e||(m(r,t),e=!0)},o(t){d(r,t),e=!1},d(t){r&&r.d(t)}}}function _e(o){let e,a;const r=[{name:"crown"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[pe]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)t=N(t,r[n]);return e=new Y({props:t}),{c(){_(e.$$.fragment)},l(n){g(e.$$.fragment,n)},m(n,l){h(e,n,l),a=!0},p(n,[l]){const u=l&3?q(r,[r[0],l&2&&H(n[1]),l&1&&{iconNode:n[0]}]):{};l&8&&(u.$$scope={dirty:l,ctx:n}),e.$set(u)},i(n){a||(m(e.$$.fragment,n),a=!0)},o(n){d(e.$$.fragment,n),a=!1},d(n){w(e,n)}}}function ge(o,e,a){let{$$slots:r={},$$scope:t}=e;const n=[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"}]];return o.$$set=l=>{a(1,e=N(N({},e),M(l))),"$$scope"in l&&a(3,t=l.$$scope)},e=M(e),[n,e,r,t]}class he extends j{constructor(e){super(),z(this,e,ge,_e,k,{})}}function we(o){let e;const a=o[2].default,r=F(a,o,o[3],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,n){r&&r.p&&(!e||n&8)&&B(r,a,t,t[3],e?L(a,t[3],n,null):A(t[3]),null)},i(t){e||(m(r,t),e=!0)},o(t){d(r,t),e=!1},d(t){r&&r.d(t)}}}function ve(o){let e,a;const r=[{name:"folder-kanban"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[we]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)t=N(t,r[n]);return e=new Y({props:t}),{c(){_(e.$$.fragment)},l(n){g(e.$$.fragment,n)},m(n,l){h(e,n,l),a=!0},p(n,[l]){const u=l&3?q(r,[r[0],l&2&&H(n[1]),l&1&&{iconNode:n[0]}]):{};l&8&&(u.$$scope={dirty:l,ctx:n}),e.$set(u)},i(n){a||(m(e.$$.fragment,n),a=!0)},o(n){d(e.$$.fragment,n),a=!1},d(n){w(e,n)}}}function be(o,e,a){let{$$slots:r={},$$scope:t}=e;const n=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}],["path",{d:"M8 10v4"}],["path",{d:"M12 10v2"}],["path",{d:"M16 10v6"}]];return o.$$set=l=>{a(1,e=N(N({},e),M(l))),"$$scope"in l&&a(3,t=l.$$scope)},e=M(e),[n,e,r,t]}class Ie extends j{constructor(e){super(),z(this,e,be,ve,k,{})}}function ye(o){let e;const a=o[2].default,r=F(a,o,o[3],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,n){r&&r.p&&(!e||n&8)&&B(r,a,t,t[3],e?L(a,t[3],n,null):A(t[3]),null)},i(t){e||(m(r,t),e=!0)},o(t){d(r,t),e=!1},d(t){r&&r.d(t)}}}function Pe(o){let e,a;const r=[{name:"toggle-right"},o[1],{iconNode:o[0]}];let t={$$slots:{default:[ye]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)t=N(t,r[n]);return e=new Y({props:t}),{c(){_(e.$$.fragment)},l(n){g(e.$$.fragment,n)},m(n,l){h(e,n,l),a=!0},p(n,[l]){const u=l&3?q(r,[r[0],l&2&&H(n[1]),l&1&&{iconNode:n[0]}]):{};l&8&&(u.$$scope={dirty:l,ctx:n}),e.$set(u)},i(n){a||(m(e.$$.fragment,n),a=!0)},o(n){d(e.$$.fragment,n),a=!1},d(n){w(e,n)}}}function De(o,e,a){let{$$slots:r={},$$scope:t}=e;const n=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"}],["circle",{cx:"16",cy:"12",r:"2"}]];return o.$$set=l=>{a(1,e=N(N({},e),M(l))),"$$scope"in l&&a(3,t=l.$$scope)},e=M(e),[n,e,r,t]}class Te extends j{constructor(e){super(),z(this,e,De,Pe,k,{})}}function Q(o,e,a){const r=o.slice();return r[3]=e[a],r}function Ne(o){let e,a,r;return e=new Ie({props:{class:"w-4 h-4 mr-2"}}),{c(){_(e.$$.fragment),a=E(`\r
						Manage`)},l(t){g(e.$$.fragment,t),a=O(t,`\r
						Manage`)},m(t,n){h(e,t,n),b(t,a,n),r=!0},p:U,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){t&&p(a),w(e,t)}}}function Se(o){let e;return{c(){e=E("Manage Image")},l(a){e=O(a,"Manage Image")},m(a,r){b(a,e,r)},d(a){a&&p(e)}}}function Ve(o){let e,a,r;return e=new he({props:{class:"w-4 h-4 mr-2"}}),{c(){_(e.$$.fragment),a=E(`\r
										Set Primary`)},l(t){g(e.$$.fragment,t),a=O(t,`\r
										Set Primary`)},m(t,n){h(e,t,n),b(t,a,n),r=!0},p:U,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){t&&p(a),w(e,t)}}}function Ce(o){let e,a,r,t,n,l;return n=new G({props:{size:"sm",type:"submit",class:"flex w-full justify-start",disabled:o[3].isPrimary,$$slots:{default:[Ve]},$$scope:{ctx:o}}}),{c(){e=D("form"),a=D("input"),t=I(),_(n.$$.fragment),this.h()},l(u){e=T(u,"FORM",{method:!0,action:!0,class:!0});var s=V(e);a=T(s,"INPUT",{type:!0,name:!0}),t=y(s),g(n.$$.fragment,s),s.forEach(p),this.h()},h(){v(a,"type","hidden"),v(a,"name","cloudinaryId"),a.value=r=o[3].cloudinaryId,v(e,"method","POST"),v(e,"action","?/markPrimary"),v(e,"class","py-1")},m(u,s){b(u,e,s),P(e,a),P(e,t),h(n,e,null),l=!0},p(u,s){(!l||s&1&&r!==(r=u[3].cloudinaryId))&&(a.value=r);const $={};s&1&&($.disabled=u[3].isPrimary),s&64&&($.$$scope={dirty:s,ctx:u}),n.$set($)},i(u){l||(m(n.$$.fragment,u),l=!0)},o(u){d(n.$$.fragment,u),l=!1},d(u){u&&p(e),w(n)}}}function Me(o){let e,a,r;return e=new Te({props:{class:"w-4 h-4 mr-2"}}),{c(){_(e.$$.fragment),a=E(`\r
										Toggle Vertical`)},l(t){g(e.$$.fragment,t),a=O(t,`\r
										Toggle Vertical`)},m(t,n){h(e,t,n),b(t,a,n),r=!0},p:U,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){t&&p(a),w(e,t)}}}function Ee(o){let e,a,r,t,n,l;return n=new G({props:{size:"sm",type:"submit",class:"flex w-full justify-start",$$slots:{default:[Me]},$$scope:{ctx:o}}}),{c(){e=D("form"),a=D("input"),t=I(),_(n.$$.fragment),this.h()},l(u){e=T(u,"FORM",{method:!0,action:!0,class:!0});var s=V(e);a=T(s,"INPUT",{type:!0,name:!0}),t=y(s),g(n.$$.fragment,s),s.forEach(p),this.h()},h(){v(a,"type","hidden"),v(a,"name","cloudinaryId"),a.value=r=o[3].cloudinaryId,v(e,"method","POST"),v(e,"action","?/toggleVertical"),v(e,"class","py-1")},m(u,s){b(u,e,s),P(e,a),P(e,t),h(n,e,null),l=!0},p(u,s){(!l||s&1&&r!==(r=u[3].cloudinaryId))&&(a.value=r);const $={};s&64&&($.$$scope={dirty:s,ctx:u}),n.$set($)},i(u){l||(m(n.$$.fragment,u),l=!0)},o(u){d(n.$$.fragment,u),l=!1},d(u){u&&p(e),w(n)}}}function Oe(o){let e,a,r;return e=new de({props:{class:"w-4 h-4 mr-2"}}),{c(){_(e.$$.fragment),a=E(`\r
										Delete`)},l(t){g(e.$$.fragment,t),a=O(t,`\r
										Delete`)},m(t,n){h(e,t,n),b(t,a,n),r=!0},p:U,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){t&&p(a),w(e,t)}}}function ke(o){let e,a,r,t,n,l,u,s;return n=new G({props:{size:"sm",variant:"destructive",type:"submit",class:"flex w-full justify-start",$$slots:{default:[Oe]},$$scope:{ctx:o}}}),{c(){e=D("form"),a=D("input"),t=I(),_(n.$$.fragment),this.h()},l($){e=T($,"FORM",{method:!0,action:!0,class:!0});var i=V(e);a=T(i,"INPUT",{type:!0,name:!0}),t=y(i),g(n.$$.fragment,i),i.forEach(p),this.h()},h(){v(a,"type","hidden"),v(a,"name","cloudinaryId"),a.value=r=o[3].cloudinaryId,v(e,"method","POST"),v(e,"action","?/delete"),v(e,"class","py-1")},m($,i){b($,e,i),P(e,a),P(e,t),h(n,e,null),l=!0,u||(s=x(oe.call(null,e)),u=!0)},p($,i){(!l||i&1&&r!==(r=$[3].cloudinaryId))&&(a.value=r);const f={};i&64&&(f.$$scope={dirty:i,ctx:$}),n.$set(f)},i($){l||(m(n.$$.fragment,$),l=!0)},o($){d(n.$$.fragment,$),l=!1},d($){$&&p(e),w(n),u=!1,s()}}}function Ue(o){let e,a,r,t,n,l,u,s,$,i;return e=new ce({props:{$$slots:{default:[Se]},$$scope:{ctx:o}}}),r=new me({}),n=new R({props:{asChild:!0,$$slots:{default:[Ce]},$$scope:{ctx:o}}}),u=new R({props:{asChild:!0,$$slots:{default:[Ee]},$$scope:{ctx:o}}}),$=new R({props:{asChild:!0,$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){_(e.$$.fragment),a=I(),_(r.$$.fragment),t=I(),_(n.$$.fragment),l=I(),_(u.$$.fragment),s=I(),_($.$$.fragment)},l(f){g(e.$$.fragment,f),a=y(f),g(r.$$.fragment,f),t=y(f),g(n.$$.fragment,f),l=y(f),g(u.$$.fragment,f),s=y(f),g($.$$.fragment,f)},m(f,c){h(e,f,c),b(f,a,c),h(r,f,c),b(f,t,c),h(n,f,c),b(f,l,c),h(u,f,c),b(f,s,c),h($,f,c),i=!0},p(f,c){const S={};c&64&&(S.$$scope={dirty:c,ctx:f}),e.$set(S);const C={};c&65&&(C.$$scope={dirty:c,ctx:f}),n.$set(C);const Z={};c&65&&(Z.$$scope={dirty:c,ctx:f}),u.$set(Z);const J={};c&65&&(J.$$scope={dirty:c,ctx:f}),$.$set(J)},i(f){i||(m(e.$$.fragment,f),m(r.$$.fragment,f),m(n.$$.fragment,f),m(u.$$.fragment,f),m($.$$.fragment,f),i=!0)},o(f){d(e.$$.fragment,f),d(r.$$.fragment,f),d(n.$$.fragment,f),d(u.$$.fragment,f),d($.$$.fragment,f),i=!1},d(f){f&&(p(a),p(t),p(l),p(s)),w(e,f),w(r,f),w(n,f),w(u,f),w($,f)}}}function je(o){let e,a;return e=new $e({props:{class:"p-2",$$slots:{default:[Ue]},$$scope:{ctx:o}}}),{c(){_(e.$$.fragment)},l(r){g(e.$$.fragment,r)},m(r,t){h(e,r,t),a=!0},p(r,t){const n={};t&65&&(n.$$scope={dirty:t,ctx:r}),e.$set(n)},i(r){a||(m(e.$$.fragment,r),a=!0)},o(r){d(e.$$.fragment,r),a=!1},d(r){w(e,r)}}}function ze(o){let e,a,r,t;return e=new ue({props:{class:"w-full h-full absolute top-0 left-0 bg-neutral-800 z-40 hover:opacity-100 opacity-0 bg-opacity-60 flex flex-row items-center justify-center text-white",$$slots:{default:[Ne]},$$scope:{ctx:o}}}),r=new ie({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),{c(){_(e.$$.fragment),a=I(),_(r.$$.fragment)},l(n){g(e.$$.fragment,n),a=y(n),g(r.$$.fragment,n)},m(n,l){h(e,n,l),b(n,a,l),h(r,n,l),t=!0},p(n,l){const u={};l&64&&(u.$$scope={dirty:l,ctx:n}),e.$set(u);const s={};l&65&&(s.$$scope={dirty:l,ctx:n}),r.$set(s)},i(n){t||(m(e.$$.fragment,n),m(r.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),d(r.$$.fragment,n),t=!1},d(n){n&&p(a),w(e,n),w(r,n)}}}function W(o){let e,a,r,t,n,l,u;return a=new re({props:{alt:o[3].cloudinaryId,src:o[3].cloudinaryId,width:600,height:o[3].isVertical?1e3:400,objectFit:"cover"}}),t=new fe({props:{$$slots:{default:[ze]},$$scope:{ctx:o}}}),{c(){e=D("div"),_(a.$$.fragment),r=I(),_(t.$$.fragment),n=I(),this.h()},l(s){e=T(s,"DIV",{class:!0});var $=V(e);g(a.$$.fragment,$),r=y($),g(t.$$.fragment,$),n=y($),$.forEach(p),this.h()},h(){v(e,"class",l=`w-[300px] ${o[3].isVertical?"h-[500px]":"h-[200px]"} rounded-md overflow-hidden relative border-white ${o[3].isPrimary&&"border-4"}`)},m(s,$){b(s,e,$),h(a,e,null),P(e,r),h(t,e,null),P(e,n),u=!0},p(s,$){const i={};$&1&&(i.alt=s[3].cloudinaryId),$&1&&(i.src=s[3].cloudinaryId),$&1&&(i.height=s[3].isVertical?1e3:400),a.$set(i);const f={};$&65&&(f.$$scope={dirty:$,ctx:s}),t.$set(f),(!u||$&1&&l!==(l=`w-[300px] ${s[3].isVertical?"h-[500px]":"h-[200px]"} rounded-md overflow-hidden relative border-white ${s[3].isPrimary&&"border-4"}`))&&v(e,"class",l)},i(s){u||(m(a.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){d(a.$$.fragment,s),d(t.$$.fragment,s),u=!1},d(s){s&&p(e),w(a),w(t)}}}function Re(o){let e,a,r,t,n,l,u=K(o[0].images),s=[];for(let i=0;i<u.length;i+=1)s[i]=W(Q(o,u,i));const $=i=>d(s[i],1,1,()=>{s[i]=null});return n=new ae({props:{uploadPreset:ne.PUBLIC_CLOUDINARY_UPLOAD_PRESET,signatureEndpoint:"/api/cloudinary",class:"px-4 py-2 rounded-lg border-gray-900 bg-white text-gray-900 border font-semibold hover:bg-gray-200",onUpload:o[2]}}),{c(){e=D("div"),a=D("div");for(let i=0;i<s.length;i+=1)s[i].c();r=I(),t=D("div"),_(n.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var f=V(e);a=T(f,"DIV",{class:!0});var c=V(a);for(let C=0;C<s.length;C+=1)s[C].l(c);c.forEach(p),r=y(f),t=T(f,"DIV",{class:!0});var S=V(t);g(n.$$.fragment,S),S.forEach(p),f.forEach(p),this.h()},h(){v(a,"class","flex flex-row flex-wrap grow gap-4"),v(t,"class","w-full flex flex-row justify-end"),v(e,"class","w-full h-full p-8 flex flex-col")},m(i,f){b(i,e,f),P(e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(a,null);P(e,r),P(e,t),h(n,t,null),l=!0},p(i,[f]){if(f&1){u=K(i[0].images);let c;for(c=0;c<u.length;c+=1){const S=Q(i,u,c);s[c]?(s[c].p(S,f),m(s[c],1)):(s[c]=W(S),s[c].c(),m(s[c],1),s[c].m(a,null))}for(te(),c=u.length;c<s.length;c+=1)$(c);ee()}},i(i){if(!l){for(let f=0;f<u.length;f+=1)m(s[f]);m(n.$$.fragment,i),l=!0}},o(i){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)d(s[f]);d(n.$$.fragment,i),l=!1},d(i){i&&p(e),X(s,i),w(n)}}}function Fe(o,e,a){let{data:r}=e;async function t(l){const{public_id:u,width:s,height:$}=l,i=new FormData;i.append("cloudinaryId",u),i.append("width",s.toString()),i.append("height",$.toString());const f=await fetch(`/admin/products/${r.productId}/images?/create`,{method:"POST",body:i});se(await f.text()).type==="success"&&await le()}const n=l=>{l.event==="success"&&t(l.info)};return o.$$set=l=>{"data"in l&&a(0,r=l.data)},[r,t,n]}class Xe extends j{constructor(e){super(),z(this,e,Fe,Re,k,{data:0})}}export{Xe as component};
