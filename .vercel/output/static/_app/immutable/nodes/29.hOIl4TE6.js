import{s as ye,e as I,a as z,ae as Ie,c as S,f as g,g as N,b as T,q as Se,m as _,ag as ke,h as w,i as P,x as _e,w as Q,r as Ce,_ as ie,J as Ee,t as W,d as X,n as ve}from"../chunks/scheduler.nD82W9v2.js";import{S as Te,i as Ve,c as Y,b as Z,m as ee,t as O,e as ce,a as j,d as te,g as de}from"../chunks/index.yaR_9bqv.js";import{g as De}from"../chunks/globals.0cDDIVm6.js";import{e as H}from"../chunks/each.-_FoTsOa.js";import{B as Ae}from"../chunks/index.3NDdlAmi.js";import{C as be}from"../chunks/CldImage.lt91u4k9.js";import"../chunks/analytics.81QmT11y.js";import{a as Oe}from"../chunks/cart.MGYI9m6o.js";const{document:U}=De;function ue(r,e,o){const l=r.slice();return l[11]=e[o],l[13]=o,l}function fe(r,e,o){const l=r.slice();return l[14]=e[o],l[13]=o,l}function he(r,e,o){const l=r.slice();return l[16]=e[o],l}function pe(r){let e,o,l,i;return o=new be({props:{src:r[16].cloudinaryId,width:1e3,height:1e3,objectFit:"cover"}}),{c(){e=I("div"),Y(o.$$.fragment),l=z(),this.h()},l(n){e=S(n,"DIV",{class:!0});var a=T(e);Z(o.$$.fragment,a),l=N(a),a.forEach(g),this.h()},h(){_(e,"class","snap-start w-full transform origin-center shrink-0")},m(n,a){P(n,e,a),ee(o,e,null),w(e,l),i=!0},p(n,a){const c={};a&1&&(c.src=n[16].cloudinaryId),o.$set(c)},i(n){i||(O(o.$$.fragment,n),i=!0)},o(n){j(o.$$.fragment,n),i=!1},d(n){n&&g(e),te(o)}}}function me(r){let e,o,l,i;function n(){return r[8](r[13])}return{c(){e=I("button"),this.h()},l(a){e=S(a,"BUTTON",{class:!0}),T(e).forEach(g),this.h()},h(){_(e,"class",o=ie(`w-[10px] h-[10px] ${r[13]===r[1]?"bg-white":""} rounded-full border border-white`)+" svelte-1srnmqy")},m(a,c){P(a,e,c),l||(i=_e(e,"click",n),l=!0)},p(a,c){r=a,c&2&&o!==(o=ie(`w-[10px] h-[10px] ${r[13]===r[1]?"bg-white":""} rounded-full border border-white`)+" svelte-1srnmqy")&&_(e,"class",o)},d(a){a&&g(e),l=!1,i()}}}function ge(r){let e,o;return e=new be({props:{src:r[11].cloudinaryId,width:1500,height:1200,objectFit:"cover",class:`rounded-lg h-full ${r[1]==r[13]?"flex":"hidden"}`}}),{c(){Y(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){ee(e,l,i),o=!0},p(l,i){const n={};i&1&&(n.src=l[11].cloudinaryId),i&2&&(n.class=`rounded-lg h-full ${l[1]==l[13]?"flex":"hidden"}`),e.$set(n)},i(l){o||(O(e.$$.fragment,l),o=!0)},o(l){j(e.$$.fragment,l),o=!1},d(l){te(e,l)}}}function qe(r){var i;let e,o=(((i=r[3]())==null?void 0:i.price)??0).toFixed(2)+"",l;return{c(){e=W("Add to Cart $"),l=W(o)},l(n){e=X(n,"Add to Cart $"),l=X(n,o)},m(n,a){P(n,e,a),P(n,l,a)},p:ve,d(n){n&&(g(e),g(l))}}}function Pe(r){let e;return{c(){e=W("Sold Out")},l(o){e=X(o,"Sold Out")},m(o,l){P(o,e,l)},p:ve,d(o){o&&g(e)}}}function Le(r){let e,o,l;function i(c,f){return f&1&&(o=null),o==null&&(o=!!(c[0].isSoldOut||!c[3]())),o?Pe:qe}let n=i(r,-1),a=n(r);return{c(){e=I("div"),a.c(),this.h()},l(c){e=S(c,"DIV",{class:!0,style:!0});var f=T(e);a.l(f),f.forEach(g),this.h()},h(){var c,f,k;_(e,"class","text-lg bg-clip-text"),_(e,"style",l=`background-image: linear-gradient(to right bottom, ${((c=r[0].product)==null?void 0:c.gradientColorStart)||""}, ${((f=r[0].product)==null?void 0:f.gradientColorVia)||""}, ${((k=r[0].product)==null?void 0:k.gradientColorStop)||""} );`)},m(c,f){P(c,e,f),a.m(e,null)},p(c,f){var k,y,q;n===(n=i(c,f))&&a?a.p(c,f):(a.d(1),a=n(c),a&&(a.c(),a.m(e,null))),f&1&&l!==(l=`background-image: linear-gradient(to right bottom, ${((k=c[0].product)==null?void 0:k.gradientColorStart)||""}, ${((y=c[0].product)==null?void 0:y.gradientColorVia)||""}, ${((q=c[0].product)==null?void 0:q.gradientColorStop)||""} );`)&&_(e,"style",l)},d(c){c&&g(e),a.d()}}}function Be(r){var se;let e,o,l,i,n,a,c,f,k,y,q,V,D,d,b,$,G,A,le="",oe,x,K,re;U.title=e=(((se=r[0].product)==null?void 0:se.name)||"Product")+" | Synergetics Shop";let L=H(r[0].productImages||[]),p=[];for(let t=0;t<L.length;t+=1)p[t]=pe(he(r,L,t));const $e=t=>j(p[t],1,1,()=>{p[t]=null});let F=H(r[0].productImages||[]),v=[];for(let t=0;t<F.length;t+=1)v[t]=me(fe(r,F,t));let B=H(r[0].productImages||[]),m=[];for(let t=0;t<B.length;t+=1)m[t]=ge(ue(r,B,t));const we=t=>j(m[t],1,1,()=>{m[t]=null});return $=new Ae({props:{class:"drop-shadow-md hover:bg-black text-lg p-7 font-light",disabled:r[0].isSoldOut||!r[3](),$$slots:{default:[Le]},$$scope:{ctx:r}}}),$.$on("click",r[9]),{c(){o=I("meta"),i=z(),n=I("div"),a=I("div"),c=I("div"),f=I("div");for(let t=0;t<p.length;t+=1)p[t].c();k=z(),y=I("div");for(let t=0;t<v.length;t+=1)v[t].c();q=z(),V=I("div"),D=I("div");for(let t=0;t<m.length;t+=1)m[t].c();d=z(),b=I("div"),Y($.$$.fragment),G=z(),A=I("script"),A.innerHTML=le,this.h()},l(t){const u=Ie("svelte-1dy89cy",U.head);o=S(u,"META",{name:!0,content:!0}),u.forEach(g),i=N(t),n=S(t,"DIV",{class:!0});var h=T(n);a=S(h,"DIV",{class:!0});var J=T(a);c=S(J,"DIV",{class:!0});var M=T(c);f=S(M,"DIV",{class:!0});var s=T(f);for(let E=0;E<p.length;E+=1)p[E].l(s);s.forEach(g),k=N(M),y=S(M,"DIV",{class:!0});var C=T(y);for(let E=0;E<v.length;E+=1)v[E].l(C);C.forEach(g),M.forEach(g),J.forEach(g),q=N(h),V=S(h,"DIV",{class:!0});var R=T(V);D=S(R,"DIV",{class:!0});var ne=T(D);for(let E=0;E<m.length;E+=1)m[E].l(ne);ne.forEach(g),d=N(R),b=S(R,"DIV",{class:!0});var ae=T(b);Z($.$$.fragment,ae),ae.forEach(g),R.forEach(g),G=N(h),A=S(h,"SCRIPT",{src:!0,"data-svelte-h":!0}),Se(A)!=="svelte-r8y9j6"&&(A.innerHTML=le),h.forEach(g),this.h()},h(){var t;_(o,"name","description"),_(o,"content",l=((t=r[0].product)==null?void 0:t.desc)||""),_(f,"class","overflow-x-auto snap-x snap-mandatory scroll-smooth flex slides w-full svelte-1srnmqy"),_(y,"class","absolute bottom-3 left-1/2 translate-x-[-50%] flex gap-x-2"),_(c,"class","w-screen overflow-hidden relative"),_(a,"class","w-full flex flex-col justify-center items-center gap-y-2 overflow-hidden sm:hidden"),_(D,"class","col-span-3 p-4 relative h-[85vh] hidden sm:flex"),_(b,"class","sm:p-4 py-6 flex flex-col gap-4 sm:h-[85vh] sm:overflow-scroll no-scroll svelte-1srnmqy"),_(V,"class","h-full sm:mx-10 mx-4 sm:grid sm:grid-cols-4 flex flex-col"),A.async=!0,ke(A.src,oe="//www.instagram.com/embed.js")||_(A,"src",oe),_(n,"class","grow flex flex-col sm:pt-10 w-full")},m(t,u){w(U.head,o),P(t,i,u),P(t,n,u),w(n,a),w(a,c),w(c,f);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(f,null);r[7](f),w(c,k),w(c,y);for(let h=0;h<v.length;h+=1)v[h]&&v[h].m(y,null);w(n,q),w(n,V),w(V,D);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(D,null);w(V,d),w(V,b),ee($,b,null),w(n,G),w(n,A),x=!0,K||(re=_e(f,"scroll",r[5]),K=!0)},p(t,[u]){var J,M;if((!x||u&1)&&e!==(e=(((J=t[0].product)==null?void 0:J.name)||"Product")+" | Synergetics Shop")&&(U.title=e),(!x||u&1&&l!==(l=((M=t[0].product)==null?void 0:M.desc)||""))&&_(o,"content",l),u&1){L=H(t[0].productImages||[]);let s;for(s=0;s<L.length;s+=1){const C=he(t,L,s);p[s]?(p[s].p(C,u),O(p[s],1)):(p[s]=pe(C),p[s].c(),O(p[s],1),p[s].m(f,null))}for(de(),s=L.length;s<p.length;s+=1)$e(s);ce()}if(u&67){F=H(t[0].productImages||[]);let s;for(s=0;s<F.length;s+=1){const C=fe(t,F,s);v[s]?v[s].p(C,u):(v[s]=me(C),v[s].c(),v[s].m(y,null))}for(;s<v.length;s+=1)v[s].d(1);v.length=F.length}if(u&3){B=H(t[0].productImages||[]);let s;for(s=0;s<B.length;s+=1){const C=ue(t,B,s);m[s]?(m[s].p(C,u),O(m[s],1)):(m[s]=ge(C),m[s].c(),O(m[s],1),m[s].m(D,null))}for(de(),s=B.length;s<m.length;s+=1)we(s);ce()}const h={};u&1&&(h.disabled=t[0].isSoldOut||!t[3]()),u&524289&&(h.$$scope={dirty:u,ctx:t}),$.$set(h)},i(t){if(!x){for(let u=0;u<L.length;u+=1)O(p[u]);for(let u=0;u<B.length;u+=1)O(m[u]);O($.$$.fragment,t),x=!0}},o(t){p=p.filter(Boolean);for(let u=0;u<p.length;u+=1)j(p[u]);m=m.filter(Boolean);for(let u=0;u<m.length;u+=1)j(m[u]);j($.$$.fragment,t),x=!1},d(t){t&&(g(i),g(n)),g(o),Q(p,t),r[7](null),Q(v,t),Q(m,t),te($),K=!1,re()}}}function Me(r,e,o){let l,{data:i}=e;function n(){return i.product&&Array.isArray(i.product.types)&&l!==-1?i.product.types[l]:null}const a=()=>{const d=document.getElementById("added-to-cart");d==null||d.classList.remove("hidden"),setTimeout(()=>{d==null||d.classList.add("hidden")},4e3)};let c=0,f;function k(d){d.target instanceof HTMLElement&&o(1,c=Math.round(d.target.scrollLeft/window.screen.width))}function y(d){f&&o(2,f.scrollLeft=d*window.screen.width,f)}Ce(()=>{var d;console.log("Product data:",i),console.log("Is product sold out?",i.isSoldOut),console.log("Available product types:",(d=i.product)==null?void 0:d.types.filter(b=>b.isAvailable)),console.log("Selected size index:",l)});function q(d){Ee[d?"unshift":"push"](()=>{f=d,o(2,f)})}const V=d=>y(d),D=()=>{var b,$;const d=n();d&&i.product&&(Oe({productId:i.product.id,productName:i.product.name,productImage:(($=(b=i.productImages)==null?void 0:b[0])==null?void 0:$.cloudinaryId)||"",productType:{width:d.width,height:d.height,code:d.code,price:d.price,stripePriceId:d.gatewayPriceId},quantity:1}),a())};return r.$$set=d=>{"data"in d&&o(0,i=d.data)},r.$$.update=()=>{var d,b;r.$$.dirty&1&&(l=((b=(d=i.product)==null?void 0:d.types)==null?void 0:b.findIndex($=>$.isAvailable))??-1),r.$$.dirty&1&&(console.log("Selected product type:",n()),console.log("Current isSoldOut status:",i.isSoldOut))},[i,c,f,n,a,k,y,q,V,D]}class Ue extends Te{constructor(e){super(),Ve(this,e,Me,Be,ye,{data:0})}}export{Ue as component};
